(self.webpackChunkmeeku_fork=self.webpackChunkmeeku_fork||[]).push([[770],{7770:(se,et,c)=>{"use strict";c.r(et),c.d(et,{STIMULUS_CASE:()=>Rt,StudyModule:()=>hc});var y=c(2057),s=c(4788),yt=c(2895),$=c(7639),T=c(9765),z=(c(6215),c(7574),c(6682),c(5435)),nt=c(8307);const p={provide:s.tb,useFactory:function(t,n){return()=>{if((0,y.NF)(n)){const e=Array.from(t.querySelectorAll(`[class*=${S}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${S}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[y.K0,s.Lbi],multi:!0},S="flex-layout-";let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[p]}),t})();const Gt={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},H=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Gt}),st=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),re=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});c(9490),c(6782),c(1211);let We=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[R]]}),t})();var Ot=c(6794);let Xe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[R,Ot.vT]]}),t})(),li=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[R]]}),t})(),rt=(()=>{class t{constructor(e,i){(0,y.PM)(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:H,useValue:Object.assign(Object.assign({},Gt),e)},{provide:re,useValue:i,multi:!0},{provide:st,useValue:!0}]:[{provide:H,useValue:Object.assign(Object.assign({},Gt),e)},{provide:re,useValue:i,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(st),s.LFG(s.Lbi))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Xe,We,li],Xe,We,li]}),t})();var ot=c(933),lt=c(2414),at=c(7935),So=c(1439),bo=c(5917),de=c(5257),Fo=c(9761),ue=c(9642),D=c(6083),ai=c(3328),di=c(2371);function Mo(t,n){}class ce{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const To={dialogContainer:(0,D.X$)("dialogContainer",[(0,D.SB)("void, exit",(0,D.oB)({opacity:0,transform:"scale(0.7)"})),(0,D.SB)("enter",(0,D.oB)({transform:"none"})),(0,D.eR)("* => enter",(0,D.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,D.oB)({transform:"none",opacity:1}))),(0,D.eR)("* => void, * => exit",(0,D.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,D.oB)({opacity:0})))])};let Ro=(()=>{class t extends lt.en{constructor(e,i,r,o,l,a){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=l,this._focusMonitor=a,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=l.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=(0,ue.ht)(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,ue.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=(0,ue.ht)();return e===i||e.contains(i)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(di.qV),s.Y36(s.sBO),s.Y36(y.K0,8),s.Y36(ce),s.Y36(di.tE))},t.\u0275dir=s.lG2({type:t,viewQuery:function(e,i){if(1&e&&s.Gf(lt.Pl,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),t})(),Go=(()=>{class t extends Ro{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=s.n5z(t)))(i||t)}}(),t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._id),s.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Mo,0,0,"ng-template",0)},directives:[lt.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[To.dialogContainer]}}),t})(),Eo=0;class At{constructor(n,e,i="mat-dialog-"+Eo++){this._overlayRef=n,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new T.xQ,this._afterClosed=new T.xQ,this._beforeClosed=new T.xQ,this._state=0,e._id=i,e._animationStateChanged.pipe((0,z.h)(r=>"opened"===r.state),(0,de.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,z.h)(r=>"closed"===r.state),(0,de.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),n.keydownEvents().pipe((0,z.h)(r=>r.keyCode===ai.hY&&!this.disableClose&&!(0,ai.Vb)(r))).subscribe(r=>{r.preventDefault(),ge(this,"keyboard")}),n.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ge(this,"mouse")})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe((0,z.h)(e=>"closing"===e.state),(0,de.q)(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(n){let e=this._getPositionStrategy();return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(n="",e=""){return this._overlayRef.updateSize({width:n,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(n){return this._overlayRef.addPanelClass(n),this}removePanelClass(n){return this._overlayRef.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ge(t,n,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=n),t.close(e)}const Qt=new s.OlP("MatDialogData"),Lo=new s.OlP("mat-dialog-default-options"),ui=new s.OlP("mat-dialog-scroll-strategy"),Bo={provide:ui,deps:[ot.aV],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Io=(()=>{class t{constructor(e,i,r,o,l,a,u,x,b){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=l,this._dialogRefConstructor=u,this._dialogContainerType=x,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new T.xQ,this._afterOpenedAtThisLevel=new T.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,So.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Fo.O)(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){(i=function(t,n){return Object.assign(Object.assign({},n),t)}(i,this._defaultOptions||new ce)).id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),l=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.afterClosed().subscribe(()=>this._removeOpenDialog(l)),this.afterOpened.next(l),o._initializeWithAttachedContent(),l}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new ot.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:ce,useValue:i}]}),l=new lt.C5(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,i,r,o){const l=new this._dialogRefConstructor(r,i,o.id);if(e instanceof s.Rgc)i.attachTemplatePortal(new lt.UE(e,null,{$implicit:o.data,dialogRef:l}));else{const a=this._createInjector(o,l,i),u=i.attachComponentPortal(new lt.C5(e,o.viewContainerRef,a));l.componentInstance=u.instance}return l.updateSize(o.width,o.height).updatePosition(o.position),l}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,l=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(Ot.Is,null,s.XFs.Optional))&&l.push({provide:Ot.Is,useValue:{value:e.direction,change:(0,bo.of)()}}),s.zs3.create({parent:o||this._injector,providers:l})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(ot.aV),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(ot.Xj),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},t.\u0275dir=s.lG2({type:t}),t})(),J=(()=>{class t extends Io{constructor(e,i,r,o,l,a,u){super(e,i,o,a,u,l,At,Go,Qt)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ot.aV),s.LFG(s.zs3),s.LFG(y.Ye,8),s.LFG(Lo,8),s.LFG(ui),s.LFG(t,12),s.LFG(ot.Xj))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),Po=0,Yo=(()=>{class t{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+Po++}ngOnInit(){this._dialogRef||(this._dialogRef=function(t,n){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?n.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(At,8),s.Y36(s.SBq),s.Y36(J))},t.\u0275dir=s.lG2({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),No=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();let dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[J,Bo],imports:[[ot.U8,lt.eL,at.BQ],at.BQ]}),t})(),jo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[y.ez,at.si]]}),t})(),Vo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[y.ez,at.si]]}),t})(),Ho=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[y.ez,rt]]}),t})(),Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[y.ez,$.QW,jo,Vo,Ho]]}),t})(),zo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[y.ez,rt,dt,Ct]]}),t})(),It=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[y.ez,at.si]]}),t})(),Qo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[It,y.ez,rt,dt,Ct]]}),t})(),$o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[It,y.ez,rt,dt,Ct]]}),t})(),Uo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[It,y.ez,rt,dt,Ct]]}),t})(),qo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[It,y.ez,rt,dt,Ct]]}),t})(),Wo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[It,y.ez,rt,dt,Ct]]}),t})();var Zo=c(7012);const gi=function(t){var n=t.length;return n?t[(0,Zo.Z)(0,n-1)]:void 0};var Jo=c(2258);const tl=function(t){return gi((0,Jo.Z)(t))};var fe=c(4654);const kt=function(t){return((0,fe.Z)(t)?gi:tl)(t)},he=["RWK","PGZ","QGK","FNK","ZVB","PWU","PLJ","KNF","GVW","KXL","GRQ","WPQ","BQP","FXX","ZTF","SGG","GQF","VXO","DZF","ZHD","JHH","VQP","JXY","ZVS","HGD","FJX","VHK","JTP","JTS","UHJ","WTZ","CXF","XFH","LWK","NWK","ZRG","FDG","NQC","WPW","YVR","HLJ","WBX","VGH","KXW","XAQ","WQG","DGJ","QUZ","QZX","HWL","DKX","ZDW","RZJ","VGJ","VWL","MKP","JFJ","GQY","BRX","IHG","YVP","SXG","FJC","QKU","WZY","QHJ","YTZ","RHF","YYB","QFH","ZUX","TQT","VZZ","BTQ","DHQ","XLW","VLW","VZJ","GGK","SWK","UFH","GPN","JSX","IQP","QUP","XDG","QWN","CBK","JVH","VXG","YBF","BVY","QZW","UPZ","WMX","XVN","RRX","QTX","DZN","WXP"],fi={lower:"lower",upper:"upper"},il=Object.values(fi);function h(t){const n=kt(he);if(void 0===n)throw Error('Random value returned "undefined"!');const e=he.indexOf(n);return e>-1&&he.splice(e,1),t===fi.lower?n.toLowerCase():n.toUpperCase()}var g=(()=>{return(t=g||(g={})).identity="identity",t.trained="trained",t.mutuallyEntailed="mutually entailed",t.combinatoriallyEntailed="combinatorially entailed",g;var t})();class m extends class{constructor(n,e){this.dest=e,this.src=n}toString(){return`${this.src}->${this.dest}`}}{constructor(n,e,i,r){super(n,e),this.relation=i,this.relationType=r}toString(){return`${this.src} ${this.relation} ${this.dest} (${this.relationType})`}}var ol=c(6224);const $t=function(t,n){for(var e=t.length;e--;)if((0,ol.Z)(t[e][0],n))return e;return-1};var dl=Array.prototype.splice;function wt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}wt.prototype.clear=function(){this.__data__=[],this.size=0},wt.prototype.delete=function(t){var n=this.__data__,e=$t(n,t);return!(e<0||(e==n.length-1?n.pop():dl.call(n,e,1),--this.size,0))},wt.prototype.get=function(t){var n=this.__data__,e=$t(n,t);return e<0?void 0:n[e][1]},wt.prototype.has=function(t){return $t(this.__data__,t)>-1},wt.prototype.set=function(t,n){var e=this.__data__,i=$t(e,t);return i<0?(++this.size,e.push([t,n])):e[i][1]=n,this};const Ut=wt;var _t=c(7699),ut=c(309);const Pt=(0,_t.Z)(ut.Z,"Map"),Yt=(0,_t.Z)(Object,"create");var Ol=Object.prototype.hasOwnProperty;var Pl=Object.prototype.hasOwnProperty;function Dt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}Dt.prototype.clear=function(){this.__data__=Yt?Yt(null):{},this.size=0},Dt.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Dt.prototype.get=function(t){var n=this.__data__;if(Yt){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return Ol.call(n,t)?n[t]:void 0},Dt.prototype.has=function(t){var n=this.__data__;return Yt?void 0!==n[t]:Pl.call(n,t)},Dt.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Yt&&void 0===n?"__lodash_hash_undefined__":n,this};const hi=Dt,qt=function(t,n){var e=t.__data__;return function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map};function St(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}St.prototype.clear=function(){this.size=0,this.__data__={hash:new hi,map:new(Pt||Ut),string:new hi}},St.prototype.delete=function(t){var n=qt(this,t).delete(t);return this.size-=n?1:0,n},St.prototype.get=function(t){return qt(this,t).get(t)},St.prototype.has=function(t){return qt(this,t).has(t)},St.prototype.set=function(t,n){var e=qt(this,t),i=e.size;return e.set(t,n),this.size+=e.size==i?0:1,this};const na=St;function bt(t){var n=this.__data__=new Ut(t);this.size=n.size}bt.prototype.clear=function(){this.__data__=new Ut,this.size=0},bt.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Ut){var i=e.__data__;if(!Pt||i.length<199)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new na(i)}return e.set(t,n),this.size=e.size,this};const la=bt;var mi=c(5427),ua=c(8893);const Wt=function(t,n,e,i){var r=!e;e||(e={});for(var o=-1,l=n.length;++o<l;){var a=n[o],u=i?i(e[a],t[a],a,e,t):void 0;void 0===u&&(u=t[a]),r?(0,ua.Z)(e,a,u):(0,mi.Z)(e,a,u)}return e};var me=c(3709);var ha=c(5154),pe=c(4214),pi=c(1550);var xa=Object.prototype.hasOwnProperty;const Aa=function(t){if(!(0,pe.Z)(t))return function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}(t);var n=(0,pi.Z)(t),e=[];for(var i in t)"constructor"==i&&(n||!xa.call(t,i))||e.push(i);return e};var Ca=c(8402);const ye=function(t){return(0,Ca.Z)(t)?(0,ha.Z)(t,!0):Aa(t)};var yi="object"==typeof exports&&exports&&!exports.nodeType&&exports,xi=yi&&"object"==typeof module&&module&&!module.nodeType&&module,vi=xi&&xi.exports===yi?ut.Z.Buffer:void 0,Ai=vi?vi.allocUnsafe:void 0;var Ma=c(6889);const Ci=function(){return[]};var La=Object.prototype.propertyIsEnumerable,wi=Object.getOwnPropertySymbols;const xe=wi?function(t){return null==t?[]:(t=Object(t),function(t,n){for(var e=-1,i=null==t?0:t.length,r=0,o=[];++e<i;){var l=t[e];n(l,e,t)&&(o[r++]=l)}return o}(wi(t),function(n){return La.call(t,n)}))}:Ci,_i=function(t,n){for(var e=-1,i=n.length,r=t.length;++e<i;)t[r+e]=n[e];return t},Di=(0,c(4184).Z)(Object.getPrototypeOf,Object),Si=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)_i(n,xe(t)),t=Di(t);return n}:Ci,bi=function(t,n,e){var i=n(t);return(0,fe.Z)(t)?i:_i(i,e(t))},$a=function(t){return bi(t,me.Z,xe)},qa=function(t){return bi(t,ye,Si)},ve=(0,_t.Z)(ut.Z,"DataView"),Ae=(0,_t.Z)(ut.Z,"Promise"),Ce=(0,_t.Z)(ut.Z,"Set"),we=(0,_t.Z)(ut.Z,"WeakMap");var Fi=c(3369),Ft=c(2035),Mi="[object Map]",Ti="[object Promise]",Ri="[object Set]",Gi="[object WeakMap]",Ei="[object DataView]",td=(0,Ft.Z)(ve),ed=(0,Ft.Z)(Pt),id=(0,Ft.Z)(Ae),nd=(0,Ft.Z)(Ce),sd=(0,Ft.Z)(we),ct=Fi.Z;(ve&&ct(new ve(new ArrayBuffer(1)))!=Ei||Pt&&ct(new Pt)!=Mi||Ae&&ct(Ae.resolve())!=Ti||Ce&&ct(new Ce)!=Ri||we&&ct(new we)!=Gi)&&(ct=function(t){var n=(0,Fi.Z)(t),e="[object Object]"==n?t.constructor:void 0,i=e?(0,Ft.Z)(e):"";if(i)switch(i){case td:return Ei;case ed:return Mi;case id:return Ti;case nd:return Ri;case sd:return Gi}return n});const _e=ct;var od=Object.prototype.hasOwnProperty;const Li=ut.Z.Uint8Array,De=function(t){var n=new t.constructor(t.byteLength);return new Li(n).set(new Li(t)),n};var fd=/\w*$/;var Oi=c(5770),Bi=Oi.Z?Oi.Z.prototype:void 0,Ii=Bi?Bi.valueOf:void 0;const Nd=function(t,n,e){var i=t.constructor;switch(n){case"[object ArrayBuffer]":return De(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,n){var e=n?De(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,n){var e=n?De(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var n=new t.constructor(t.source,fd.exec(t));return n.lastIndex=t.lastIndex,n}(t);case"[object Set]":return new i;case"[object Symbol]":return function(t){return Ii?Object(Ii.call(t)):{}}(t)}};var ki=Object.create;const Vd=function(){function t(){}return function(n){if(!(0,pe.Z)(n))return{};if(ki)return ki(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();var Qd=c(5104),Pi=c(6539);var Yi=c(1162),Zt=c(8514),Ni=Zt.Z&&Zt.Z.isMap;const Zd=Ni?(0,Yi.Z)(Ni):function(t){return(0,Pi.Z)(t)&&"[object Map]"==_e(t)};var ji=Zt.Z&&Zt.Z.isSet;const eu=ji?(0,Yi.Z)(ji):function(t){return(0,Pi.Z)(t)&&"[object Set]"==_e(t)};var Vi="[object Arguments]",Hi="[object Function]",zi="[object Object]",F={};F[Vi]=F["[object Array]"]=F["[object ArrayBuffer]"]=F["[object DataView]"]=F["[object Boolean]"]=F["[object Date]"]=F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Map]"]=F["[object Number]"]=F[zi]=F["[object RegExp]"]=F["[object Set]"]=F["[object String]"]=F["[object Symbol]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F["[object Error]"]=F[Hi]=F["[object WeakMap]"]=!1;const Mu=function Kt(t,n,e,i,r,o){var l,a=1&n,u=2&n,x=4&n;if(e&&(l=r?e(t,i,r,o):e(t)),void 0!==l)return l;if(!(0,pe.Z)(t))return t;var b=(0,fe.Z)(t);if(b){if(l=function(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&od.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return(0,Ma.Z)(t,l)}else{var C=_e(t),P=C==Hi||"[object GeneratorFunction]"==C;if((0,Qd.Z)(t))return function(t,n){if(n)return t.slice();var e=t.length,i=Ai?Ai(e):new t.constructor(e);return t.copy(i),i}(t,a);if(C==zi||C==Vi||P&&!r){if(l=u||P?{}:function(t){return"function"!=typeof t.constructor||(0,pi.Z)(t)?{}:Vd(Di(t))}(t),!a)return u?function(t,n){return Wt(t,Si(t),n)}(t,function(t,n){return t&&Wt(n,ye(n),t)}(l,t)):function(t,n){return Wt(t,xe(t),n)}(t,function(t,n){return t&&Wt(n,(0,me.Z)(n),t)}(l,t))}else{if(!F[C])return r?t:{};l=Nd(t,C,a)}}o||(o=new la);var Y=o.get(t);if(Y)return Y;o.set(t,l),eu(t)?t.forEach(function(k){l.add(Kt(k,n,e,k,t,o))}):Zd(t)&&t.forEach(function(k,w){l.set(w,Kt(k,n,e,w,t,o))});var I=b?void 0:(x?u?qa:$a:u?ye:me.Z)(t);return function(t,n){for(var e=-1,i=null==t?0:t.length;++e<i&&!1!==n(t[e],e,t););}(I||t,function(k,w){I&&(k=t[w=k]),(0,mi.Z)(l,w,Kt(k,n,e,w,t,o))}),l},Qi=function(t){return Mu(t,5)};class Jt extends class{constructor(){this.edges=new Map,this.nodes=new Set}addEdge(n){var e;const i=n.src,r=n.dest;if(!this.hasNode(i))throw Error(`addEdge failed source node "${i.toString()}" is not in graph.`);if(!this.hasNode(r))throw Error(`addEdge failed destination node "${r.toString()}" is not in graph.`);if(null===(e=this.edges.get(n.src))||void 0===e?void 0:e.some(o=>o.src===i&&o.dest===r))throw Error(`Add edge failed an edge already exists with src ${i.toString()} => dest ${r.toString()}`);this.edges.set(n.src,this.edges.get(n.src).concat(n))}addNode(n){if(this.nodes.has(n))throw Error(`addNode failed node "${n.toString()}" already exists`);this.nodes.add(n),this.edges.set(n,[])}findPathway(n,e,i,r={nodes:[],edges:[]},o=[]){if(r.nodes=r.nodes.concat(n),i&&(r.edges=r.edges.concat(i)),n===e)return o.concat(r);for(const l of this.getEdgesForNode(n))if(!r.nodes.map(a=>a.toString()).includes(l.dest.toString())){const a=this.findPathway(l.dest,e,l,Qi(r),o);a&&(o=o.concat(a))}return o}getEdgesForNode(n){return this.edges.get(n)||[]}hasNode(n){return this.nodes.has(n)}toString(){return Array.from(this.edges.values()).flat().filter(Boolean).map(n=>n.toString()).join("\n")}}{constructor(n){super(),this.includeRelationsBetweenNetworks=!1,this.selfRelation=n.selfRelation,this.unknownRelation=n.unknownRelation,this.mutualDictionary=n.mutualDictionary,this.combinatorialDictionary=n.combinatorialDictionary}get combinatoriallyEntailed(){const n=[],e=[...this.nodes];for(const i of e)for(const r of e){if(i===r||!this.includeRelationsBetweenNetworks&&i.network!==r.network||this.getEdgesForNode(i).find(l=>l.dest===r))continue;const o=this.findPathway(i,r).map(l=>l.edges.map(a=>a.relation)).reduce((l,a,u)=>{const x=[...a];let b=x.shift();for(;x.length;){const C=x.shift();b=this.combinatorialDictionary[b][C]}return l.push(b),a.length=0,l},[]);0===o.length&&o.push(this.unknownRelation),[...new Set(o.filter(l=>l!==this.unknownRelation))].length>1?console.warn(`Multiple relations detected for ${i.toString()} => ${r.toString()} comparison`,o):n.push({relation:o[0],relationType:g.combinatoriallyEntailed,stimuli:[i,r]})}return n}get identities(){return[...this.nodes].map(n=>({relation:this.selfRelation,relationType:g.identity,stimuli:[n,n]}))}get mutuallyEntailed(){return[...this.edges.values()].flat().filter(n=>n.relationType===g.mutuallyEntailed).map(n=>({relation:n.relation,relationType:n.relationType,stimuli:[n.src,n.dest]}))}get trained(){return[...this.edges.values()].flat().filter(n=>n.relationType===g.trained).map(n=>({relation:n.relation,relationType:n.relationType,stimuli:[n.src,n.dest]}))}addTrainedAndMutualRelations(n){var e,i;const r=n.src,o=n.dest;if(!this.hasNode(r))throw Error(`Add edge failed source node "${r.toString()}" is not in graph.`);if(!this.hasNode(o))throw Error(`Add edge failed destination node "${o.toString()}" is not in graph.`);if(!(null===(e=this.mutualDictionary)||void 0===e?void 0:e[n.relation]))throw Error(`Could not find inverse of relation ${n.relation}`);if(null===(i=this.edges.get(n.src))||void 0===i?void 0:i.some(l=>l.src===r&&l.dest===o))throw Error(`Add edge failed an edge already exists with src ${r.toString()} => dest ${o.toString()}`);this.edges.set(n.src,this.edges.get(n.src).concat(n)),this.edges.set(n.dest,this.edges.get(n.dest).concat(new m(n.dest,n.src,this.mutualDictionary[n.relation],g.mutuallyEntailed)))}getStimulusComparison(n,e,i,r){return Array().concat(this.identities,this.trained,this.mutuallyEntailed,this.combinatoriallyEntailed).find(({stimuli:o})=>o[0].name===n&&o[0].network===e&&o[1].name===i&&o[1].network===r)}findPathway(n,e,i,r={nodes:[],edges:[]},o=[]){if(r.nodes=r.nodes.concat(n),i&&(r.edges=r.edges.concat(i)),n===e)return o.concat(r);for(const l of this.getEdgesForNode(n))if(!r.nodes.map(a=>a.toString()).includes(l.dest.toString())){const a=this.findPathway(l.dest,e,l,Qi(r),o);a&&(o=o.concat(a))}return o}toString(){return[].concat(this.identities,this.trained,this.mutuallyEntailed,this.combinatoriallyEntailed).flat().map(n=>`${n.relationType}: ${n.stimuli[0]} ${n.relation} ${n.stimuli[1]}`).join("\n")}}class f{constructor(n,e,i=""){this.name=n,this.network=e,this.value=i}repr(){return`new RelationalFrameNode('${this.name}','${this.network}','${this.value}')`}toString(){return`${this.name}${this.network}`}}var Xt=c(202);let Lu=(()=>{class t extends Jt{constructor(e,i){super(i),this.stimulusCase=e,this.relationalFrameGraphConfig=i,this.includeRelationsBetweenNetworks=!0;const r=new f("A",1,h(e)),o=new f("B",1,h(e)),l=new f("C",1,h(e));this.addNode(r),this.addNode(o),this.addNode(l),this.addEdge(new m(r,o,"different",g.trained)),this.addEdge(new m(r,l,"different",g.trained)),this.addEdge(new m(o,r,"different",g.trained)),this.addEdge(new m(o,l,"different",g.trained)),this.addEdge(new m(l,r,"different",g.trained)),this.addEdge(new m(l,o,"different",g.trained));const a=new f("D",2,h(e)),u=new f("E",2,h(e)),x=new f("F",2,h(e));this.addNode(a),this.addNode(u),this.addNode(x)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Rt),s.LFG(Xt.o))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=c(4146);const Ou=[[_.bR.same,_.bR.same,void 0],[_.bR.same,_.bR.greaterThan,void 0],[_.bR.same,_.bR.lessThan,void 0],[_.bR.lessThan,_.bR.same,void 0],[_.bR.lessThan,void 0,_.bR.lessThan],[_.bR.lessThan,_.bR.greaterThan,void 0],[_.bR.greaterThan,_.bR.same,void 0],[_.bR.greaterThan,_.bR.lessThan,void 0],[_.bR.greaterThan,void 0,_.bR.greaterThan]],Bu=[[_.bR.lessThan,_.bR.lessThan,void 0],[_.bR.greaterThan,_.bR.greaterThan,void 0]];let Iu=(()=>{class t extends Jt{constructor(e,i){super(i),this.stimulusCase=e,this.relationalFrameGraphConfig=i,this.includeRelationsBetweenNetworks=!0;const r=new f("A",3,h(e)),o=new f("B",3,h(e)),l=new f("C",3,h(e));this.addNode(r),this.addNode(o),this.addNode(l);const[a,u,x]=kt(Ou);a&&this.addTrainedAndMutualRelations(new m(r,o,a,g.trained)),u&&this.addTrainedAndMutualRelations(new m(r,l,u,g.trained)),x&&this.addTrainedAndMutualRelations(new m(o,l,x,g.trained));const b=new f("A",4,h(e)),C=new f("B",4,h(e)),P=new f("C",4,h(e));this.addNode(b),this.addNode(C),this.addNode(P);const[Y,j,I]=kt(Bu);Y&&this.addTrainedAndMutualRelations(new m(b,C,Y,g.trained)),j&&this.addTrainedAndMutualRelations(new m(b,P,j,g.trained)),I&&this.addTrainedAndMutualRelations(new m(C,P,I,g.trained))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Rt),s.LFG(Xt.o))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ku=(()=>{class t extends Jt{constructor(e,i){super(i),this.stimulusCase=e,this.relationalFrameGraphConfig=i;const r=new f("A",5,h(e)),o=new f("B",5,h(e)),l=new f("C",5,h(e));this.addNode(r),this.addNode(o),this.addNode(l),this.addTrainedAndMutualRelations(new m(r,o,"same",g.trained)),this.addTrainedAndMutualRelations(new m(r,l,"same",g.trained)),this.addTrainedAndMutualRelations(new m(o,l,"same",g.trained));const a=new f("A",6,h(e)),u=new f("B",6,h(e)),x=new f("C",6,h(e));this.addNode(a),this.addNode(u),this.addNode(x),this.addTrainedAndMutualRelations(new m(a,u,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(a,x,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(u,x,"greaterThan",g.trained))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Rt),s.LFG(Xt.o))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$i=(()=>{class t extends Jt{constructor(e,i){super(i),this.stimulusCase=e,this.relationalFrameGraphConfig=i,this.ickNetworkNumbers=[7,8,9,10,11],this.knownNetworkNumbers=[5,6,12,13,14],this.includeRelationsBetweenNetworks=!1,this.createIckNetworks(),this.createKnownNetworks()}createIckNetworks(){const e=new f("A",7,h(this.stimulusCase)),i=new f("B",7,h(this.stimulusCase)),r=new f("C",7,h(this.stimulusCase));this.addNode(e),this.addNode(i),this.addNode(r),this.addTrainedAndMutualRelations(new m(e,i,"lessThan",g.trained)),this.addTrainedAndMutualRelations(new m(i,r,"greaterThan",g.trained));const o=new f("A",8,h(this.stimulusCase)),l=new f("B",8,h(this.stimulusCase)),a=new f("C",8,h(this.stimulusCase));this.addNode(o),this.addNode(l),this.addNode(a),this.addTrainedAndMutualRelations(new m(o,l,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(l,a,"lessThan",g.trained));const u=new f("A",9,h(this.stimulusCase)),x=new f("B",9,h(this.stimulusCase)),b=new f("C",9,h(this.stimulusCase));this.addNode(u),this.addNode(x),this.addNode(b),this.addTrainedAndMutualRelations(new m(u,x,"lessThan",g.trained)),this.addTrainedAndMutualRelations(new m(x,b,"greaterThan",g.trained));const C=new f("A",10,h(this.stimulusCase)),P=new f("B",10,h(this.stimulusCase)),Y=new f("C",10,h(this.stimulusCase));this.addNode(C),this.addNode(P),this.addNode(Y),this.addTrainedAndMutualRelations(new m(C,P,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(P,Y,"lessThan",g.trained));const j=new f("A",11,h(this.stimulusCase)),I=new f("B",11,h(this.stimulusCase)),k=new f("C",11,h(this.stimulusCase));this.addNode(j),this.addNode(I),this.addNode(k),this.addTrainedAndMutualRelations(new m(j,I,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(I,k,"lessThan",g.trained));const w=new f("A",16,h(this.stimulusCase)),N=new f("B",16,h(this.stimulusCase)),tt=new f("C",16,h(this.stimulusCase));this.addNode(w),this.addNode(N),this.addNode(tt),this.addTrainedAndMutualRelations(new m(w,N,"lessThan",g.trained)),this.addTrainedAndMutualRelations(new m(N,tt,"greaterThan",g.trained))}createKnownNetworks(){const e=new f("A",5,h(this.stimulusCase)),i=new f("B",5,h(this.stimulusCase)),r=new f("C",5,h(this.stimulusCase));this.addNode(e),this.addNode(i),this.addNode(r),this.addTrainedAndMutualRelations(new m(e,i,"same",g.trained)),this.addTrainedAndMutualRelations(new m(e,r,"same",g.trained)),this.addTrainedAndMutualRelations(new m(i,r,"same",g.trained));const o=new f("A",6,h(this.stimulusCase)),l=new f("B",6,h(this.stimulusCase)),a=new f("C",6,h(this.stimulusCase));this.addNode(o),this.addNode(l),this.addNode(a),this.addTrainedAndMutualRelations(new m(o,l,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(o,a,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(l,a,"greaterThan",g.trained));const u=new f("A",12,h(this.stimulusCase)),x=new f("B",12,h(this.stimulusCase)),b=new f("C",12,h(this.stimulusCase));this.addNode(u),this.addNode(x),this.addNode(b),this.addTrainedAndMutualRelations(new m(u,x,"lessThan",g.trained)),this.addTrainedAndMutualRelations(new m(u,b,"lessThan",g.trained)),this.addTrainedAndMutualRelations(new m(x,b,"lessThan",g.trained));const C=new f("A",13,h(this.stimulusCase)),P=new f("B",13,h(this.stimulusCase)),Y=new f("C",13,h(this.stimulusCase));this.addNode(C),this.addNode(P),this.addNode(Y),this.addTrainedAndMutualRelations(new m(C,P,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(C,Y,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(P,Y,"same",g.trained));const j=new f("A",14,h(this.stimulusCase)),I=new f("B",14,h(this.stimulusCase)),k=new f("C",14,h(this.stimulusCase));this.addNode(j),this.addNode(I),this.addNode(k),this.addTrainedAndMutualRelations(new m(j,I,"lessThan",g.trained)),this.addTrainedAndMutualRelations(new m(j,k,"lessThan",g.trained)),this.addTrainedAndMutualRelations(new m(I,k,"same",g.trained));const w=new f("A",15,h(this.stimulusCase)),N=new f("B",15,h(this.stimulusCase)),tt=new f("C",15,h(this.stimulusCase));this.addNode(w),this.addNode(N),this.addNode(tt),this.addTrainedAndMutualRelations(new m(w,N,"same",g.trained)),this.addTrainedAndMutualRelations(new m(w,tt,"greaterThan",g.trained)),this.addTrainedAndMutualRelations(new m(N,tt,"greaterThan",g.trained))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Rt),s.LFG(Xt.o))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pu(){const t=kt(il);if(void 0===t)throw Error('Random stimulus case returned "undefined"!');return t}function Nt(t){return{data:t,disableClose:!0,hasBackdrop:!1,closeOnNavigation:!0,height:"100vh",maxHeight:"100vh",maxWidth:"100vw",panelClass:["fullscreen-dialog-container","animate__animated","animate__fadeIn"],width:"100vw"}}function Yu(t,n){1&t&&s._UZ(0,"iframe",5)}function Nu(t,n){1&t&&s._UZ(0,"iframe",6)}let Ui=(()=>{class t{constructor(e,i){this.data=e,this.ref=i}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Qt),s.Y36(At))},t.\u0275cmp=s.Xpm({type:t,selectors:[["survey-dialog"]],decls:7,vars:3,consts:[["mat-dialog-title","",1,"p-3","text-center"],["src","https://docs.google.com/forms/d/e/1FAIpQLSfUjqCloWRFFmtxktYAz-vnNuoo-YpdY1rpuS8bNAM7JiK9Jw/viewform?embedded=true",4,"ngIf"],["src","https://docs.google.com/forms/d/e/1FAIpQLSczKoo6Uf1wy11LoWiwvIcECIjoZy3YdAA-bCzNVDZtpxvAFg/viewform?embedded=true",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","color","primary",3,"click"],["src","https://docs.google.com/forms/d/e/1FAIpQLSfUjqCloWRFFmtxktYAz-vnNuoo-YpdY1rpuS8bNAM7JiK9Jw/viewform?embedded=true"],["src","https://docs.google.com/forms/d/e/1FAIpQLSczKoo6Uf1wy11LoWiwvIcECIjoZy3YdAA-bCzNVDZtpxvAFg/viewform?embedded=true"]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0),s._uU(1),s.qZA(),s.YNc(2,Yu,1,0,"iframe",1),s.YNc(3,Nu,1,0,"iframe",2),s.TgZ(4,"div",3),s.TgZ(5,"button",4),s.NdJ("click",function(){return i.ref.close()}),s._uU(6,"RETURN TO STUDY"),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Oqu(i.data.title),s.xp6(1),s.Q6J("ngIf","pre"===i.data.survey),s.xp6(1),s.Q6J("ngIf","post"===i.data.survey))},directives:[Yo,y.O5,No,yt.lW],styles:["[_nghost-%COMP%]{display:block;padding:16px}iframe[_ngcontent-%COMP%]{height:calc(100vh - 164px);width:calc(100vw - 32px)}"]}),t})(),Se=(()=>{class t{constructor(e){this.dialog=e}showPostSurvey(e){return this.dialog.open(Ui,Nt({title:`Post Survey | Participant Id = ${e}`,survey:"post"})).afterClosed()}showPreSurvey(e){return this.dialog.open(Ui,Nt({title:"Pre Survey",survey:"pre"})).afterClosed()}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(J))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),ju=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[Se],imports:[[y.ez,dt,yt.ot]]}),t})();var qi=c(2636),V=c(4762),gt=c(9524),Mt=c(6797),ft=c(8049),te=c(3190);function ee(t){return(0,D.X$)((null==t?void 0:t.anchor)||"fadeOut",[(0,D.SB)("false",(0,D.oB)({visibility:"visible",opacity:1})),(0,D.SB)(":leave",(0,D.oB)({visibility:"visible",opacity:1})),(0,D.SB)("true",(0,D.oB)({visibility:"hidden",opacity:0})),(0,D.eR)("void => *",(0,D.jt)(0)),(0,D.eR)("* => true",(0,D.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}const Q=150;let Zi=(()=>{class t{constructor(e,i){this.data=e,this.ref=i,this.animated=!1,this.closeClicked=new T.xQ,this.disableClose=Boolean(this.data.disableClose)}close(){return(0,V.mG)(this,void 0,void 0,function*(){this.closeClicked.next(),this.animated=!0,yield(0,Mt.H)(750).toPromise(),this.ref.close()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Qt),s.Y36(At))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block-start-dialog"]],decls:3,vars:3,consts:[["matRipple","",1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white",3,"matRippleDisabled","tap"],[1,"overlay-dynamic-text","user-select-none"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.NdJ("tap",function(){return!1===i.disableClose&&i.close()}),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Q6J("@fadeOut",i.animated)("matRippleDisabled",i.animated||i.disableClose),s.xp6(2),s.Oqu(i.data.text))},directives:[at.wG],styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{white-space:pre-wrap;font-size:clamp(1rem,8vw,15rem);line-height:clamp(1rem,8vw,15rem);text-align:center}"],data:{animation:[ee({duration:Q})]}}),t})();var v=c(4751);const jt={_origin:"https://api.emailjs.com"};class Xi{constructor(n){this.status=n.status,this.text=n.responseText}}const en=(t,n,e,i)=>{const r=i||jt._userID;return((t,n,e)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!n)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(r,t,n),((t,n,e={})=>new Promise((i,r)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:l})=>{const a=new Xi(l);200===a.status||"OK"===a.text?i(a):r(a)}),o.addEventListener("error",({target:l})=>{r(new Xi(l))}),o.open("POST",jt._origin+t,!0),Object.keys(e).forEach(l=>{o.setRequestHeader(l,e[l])}),o.send(n)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:t,template_id:n,template_params:e}),{"Content-type":"application/json"})};var Fe=c(9119);const nn="Throughout this experiment, you will be presented with two sets of letter sequences, one at the top portion of the screen and one in the middle portion of the screen. You will also be presented with some response option buttons along the bottom of the screen. These buttons may denote the relationship between the letter sequences. They may or may not be familiar to you. Your task is to select the response option that accurately represents the relationship between the letter sequences. You can make your selection by touching the screen or clicking on the relevant response option at the bottom of the screen.\n\n\nYour participation has to be done in one sitting. Typically, participation takes 10 minutes but sometimes exceeds 45 minutes to complete. To successfully complete quickly, it is recommended that you minimize sources of distraction while participating. This includes being in a quiet space away from other devices and putting this device on \u201cDo not disturb\u201d mode or its equivalent.\n\n\nSuccessful completion may be challenging and confusing. Please persist to the end and give it your best effort. During some portions of the experiment you will be provided feedback on your selections. If you don\u2019t see feedback, please continue making selections. There is a time limit for making your selections. Please choose your response as fast as you can while still being accurate. Your compensation will go up the more accurate you are.";var Hu=c(2376);let ie=(()=>{class t{constructor(e,i){this.fb=e,this.studyConfigService=i,this.reportEntries=[],this.formGroup=this.fb.group({studyInstructions:[""],participantId:["",v.kI.required],iCannotKnow:["",v.kI.required],contextualControl:["",v.kI.required],cueType:["",[v.kI.required]],trialTimeoutSeconds:[0,v.kI.min(1)],balanceEquivalence:[0,v.kI.min(1)],balanceLessThan:[0,v.kI.min(1)],balanceGreaterThan:[0,v.kI.min(1)],balanceICannotKnow:[-1,v.kI.min(0)],blockId:["",v.kI.required],blockAttempts:[-1,v.kI.min(0)],stimulusCase:["",v.kI.required],trainingAttempts:[-1,v.kI.min(0)],probeAttempts:[-1,v.kI.min(0)],trialNumber:[-1,v.kI.min(0)],totalTrials:[-1,v.kI.min(0)],sampleNode:["",v.kI.required],sample:["",v.kI.required],comparisonNode:["",v.kI.required],comparison:["",v.kI.required],correctResponse:["",v.kI.required],button1Image:["",v.kI.required],button1Relation:["",v.kI.required],button2Image:["",v.kI.required],button2Relation:["",v.kI.required],button3Image:["",v.kI.required],button3Relation:["",v.kI.required],button4Image:["",v.kI.required],button4Relation:["",v.kI.required],buttonPosition:[-2,v.kI.min(-1)],selectedResponse:[""],consequence:[""],trialStarted:["",v.kI.required],trialCompleted:["",v.kI.required],trialDurationInSeconds:[-1,v.kI.min(0)],trialOutcome:["",v.kI.required],containsSequentialTriplicates:["",v.kI.required],failSafeDuration:["",v.kI.required],startInstructions:["",v.kI.required],retryInstructions:["",v.kI.required],studyFailed:["FALSE"],sequentialCorrect:[-1,v.kI.min(0)]})}add(e,i){this.formGroup.get(e).setValue(i)}addTrial(e,i){var r,o;if(!e.studyConfig)throw Error("Study configuration is undefined");if(!e.trial)throw Error("Trial is undefined");this.studyConfig=e.studyConfig,this.add("studyInstructions",0===this.reportEntries.length?nn.replaceAll("\n",""):""),this.add("participantId",e.studyConfig.participantId),this.add("iCannotKnow",e.studyConfig.iCannotKnow),this.add("contextualControl",e.studyConfig.contextualControl),this.add("cueType",e.studyConfig.cueType),this.add("trialTimeoutSeconds",e.studyConfig.trialTimeoutSeconds),this.add("balanceEquivalence",e.studyConfig.balance.same),this.add("balanceLessThan",e.studyConfig.balance.lessThan),this.add("balanceGreaterThan",e.studyConfig.balance.greaterThan),this.add("balanceICannotKnow",null!==(r=e.studyConfig.balance.iCannotKnow)&&void 0!==r?r:0),this.add("blockId",e.name),this.add("blockAttempts",e.attempts),this.add("trainingAttempts",e.trainingAttempts),this.add("probeAttempts",e.probeAttempts),this.add("trialNumber",e.trialNum),this.add("totalTrials",e.totalTrials),this.add("sampleNode",e.trial.stimuli[0].toString()),this.add("sample",e.trial.stimuli[0].value),this.add("comparisonNode",e.trial.stimuli[1].toString()),this.add("comparison",e.trial.stimuli[1].value),this.add("correctResponse",e.trial.relation),this.add("button1Image",e.trial.cueComponentConfigs[0].fileName),this.add("button1Relation",e.trial.cueComponentConfigs[0].value),this.add("button2Image",e.trial.cueComponentConfigs[1].fileName),this.add("button2Relation",e.trial.cueComponentConfigs[1].value),this.add("button3Image",e.trial.cueComponentConfigs[2].fileName),this.add("button3Relation",e.trial.cueComponentConfigs[2].value),this.add("button4Image",e.trial.cueComponentConfigs.length>=4?e.trial.cueComponentConfigs[3].fileName:"UNDEFINED"),this.add("button4Relation",e.trial.cueComponentConfigs.length>=4?e.trial.cueComponentConfigs[3].value:"UNDEFINED"),this.add("buttonPosition",(null==i?void 0:i.position)?i.position:-1),this.add("selectedResponse",(null==i?void 0:i.cue)?i.cue.value:""),this.add("consequence",(null==i?void 0:i.cue)?(null==e?void 0:e.feedback)?e.feedback:"NEXT TRIAL":"TIME EXPIRED"),this.add("trialStarted",i.startedAt),this.add("trialCompleted",i.completedAt),this.add("trialDurationInSeconds",Math.abs(i.startedAt.getTime()-i.completedAt.getTime())/1e3),this.add("trialOutcome",(null===(o=null==i?void 0:i.cue)||void 0===o?void 0:o.value)===e.trial.relation?"PASS":"FAIL"),this.add("containsSequentialTriplicates",e.containsSequentialTriplicates?"TRUE":"FALSE"),this.add("failSafeDuration",e.failSafeDuration.toString()),this.add("startInstructions",e.startInstructions),this.add("retryInstructions",e.retryInstructions),this.add("studyFailed",e.studyFailed?"TRUE":"FALSE"),this.add("sequentialCorrect",e.sequentialCorrect),this.reportEntries.push(this.formGroup.value),this.formGroup.reset()}blobToBase64(e){return new Promise((i,r)=>{const o=new FileReader;o.onloadend=()=>i(o.result),o.readAsDataURL(e)})}sendReport(e){return(0,V.mG)(this,void 0,void 0,function*(){const{participantId:i}=this.studyConfigService,r="\r\n";this.reportEntries.length&&(this.reportEntries[this.reportEntries.length-1].studyFailed="complete"!==e?"TRUE":"FALSE");const o=this.reportEntries.map(x=>Object.values(x).map(b=>{var C;return null!==(C=null==b?void 0:b.toString())&&void 0!==C?C:""}).join(";")).join(r),l=`MEEKU - ${i}.csv`,a=new Blob([e+r+Object.keys(this.formGroup.value).join(";")+r+o],{type:"text/csv"}),u=yield this.blobToBase64(a);((t,n="https://api.emailjs.com")=>{jt._userID=t,jt._origin=n})("user_OawQbiPiSgdzcdY3SkdGT"),en("meeku-report","meeku-report",{attachmentName:l,content:u,from_name:"Meeku Robot",to_name:"Patrick",message:`New report has been issued! ${i}`,participant:l},"user_OawQbiPiSgdzcdY3SkdGT").then(function(x){},function(x){console.error("Failed to send report...",x)})})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Hu.qu),s.LFG(Fe.R))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Tt;class ht{constructor(){Tt.set(this,0)}get showColorTrial(){return 50===(0,V.Q_)(this,Tt,"f")}increase(){(0,V.YH)(this,Tt,+(0,V.Q_)(this,Tt,"f")+1,"f")}reset(){(0,V.YH)(this,Tt,0,"f")}}Tt=new WeakMap,ht.\u0275fac=function(n){return new(n||ht)},ht.\u0275prov=s.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"});const zu=function(t,n){return{value:t,params:n}};let Qu=(()=>{class t{constructor(e,i){this.data=e,this.ref=i,this.animated=!1,setTimeout(()=>this.animated=!0,0),setTimeout(()=>this.ref.close(),this.data.durationMs);const r=new Audio;r.src=`./assets/${e.feedback.toLowerCase().replaceAll(" ","-")}.mp3`,r.load(),r.play().then(()=>r.remove())}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Qt),s.Y36(At))},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-correct-dialog"]],decls:3,vars:5,consts:[[1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white"],[1,"overlay-dynamic-text","user-select-none"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Q6J("@fadeOut",s.WLB(2,zu,i.animated,i.data.animationParams)),s.xp6(2),s.Oqu(i.data.feedback))},styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,8vw,15rem);white-space:nowrap}"],data:{animation:[ee()]}}),t})();var $u=c(409);const X=500,Me={stimuli:[X,2*X],cues:Array(5).fill(3*X)},rn=Math.max(...Object.values(Me).flat())+1e3;var ne=c(680);function on(t){return(0,D.X$)((null==t?void 0:t.anchor)||"fadeIn",[(0,D.SB)("void",(0,D.oB)({visibility:"hidden",opacity:0})),(0,D.SB)("false",(0,D.oB)({visibility:"hidden",opacity:0})),(0,D.SB)("true",(0,D.oB)({visibility:"visible",opacity:1})),(0,D.eR)("* => true",(0,D.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}var ln=c(730);const Uu=function(t){return{delay:t}},qu=function(t,n){return{value:t,params:n}},Wu=function(t,n){return{"d-none":t,"hover-able":n}},Zu=function(t){return{"pointer-events":t}};let an=(()=>{class t{constructor(e){this.deviceDetectorSvc=e,this.animationDelay=0,this.disabled=!0,this.isDesktop=this.deviceDetectorSvc.isDesktop(),this.selected=new s.vpe}select(){this.disabled=!0,this.selected.emit(this.config)}set(e){return(0,V.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield(0,Mt.H)(Q).toPromise(),this.disabled=!1,this.config=e,this.animate="fade-in"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(ln.x0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-cue"]],inputs:{animationDelay:"animationDelay"},outputs:{selected:"selected"},decls:2,vars:18,consts:[["onclick","blur()","matRipple","",1,"trial-item","dynamic-text",3,"matRippleDisabled","ngClass","ngStyle","click","tap"]],template:function(e,i){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return i.isDesktop&&!i.disabled&&i.select()})("tap",function(){return!i.isDesktop&&!i.disabled&&i.select()}),s._uU(1),s.qZA()),2&e&&(s.Udp("background-image",null==i.config?null:i.config.fileName),s.Q6J("@fadeIn",s.WLB(10,qu,"fade-in"===i.animate,s.VKq(8,Uu,i.animationDelay)))("@fadeOut","fade-out"===i.animate)("matRippleDisabled",i.disabled)("ngClass",s.WLB(13,Wu,void 0===i.config,i.isDesktop))("ngStyle",s.VKq(16,Zu,null!=i.config&&i.config.value?"all":"none")),s.xp6(1),s.hij(" ",null!=i.config&&i.config.isArbitrary?"\xa0":(null==i.config?null:i.config.viewValue)||""," "))},directives:[at.wG,y.mk,y.PC],styles:["[_nghost-%COMP%]{display:block}button.trial-item.hover-able[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;min-height:75px;height:10vw;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-weight:bold;font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[on(),ee({duration:Q})]}}),t})();const Ku=function(t){return{delay:t}},Ju=function(t,n){return{value:t,params:n}};let dn=(()=>{class t{constructor(e){this.deviceDetectorSvc=e,this.animationDelay=0,this.isDesktop=this.deviceDetectorSvc.isDesktop()}set(e){return(0,V.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield(0,Mt.H)(Q).toPromise(),this.backgroundImage=_.Sg,this.cue=e,this.animate="fade-in"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(ln.x0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-stimulus"]],inputs:{animationDelay:"animationDelay"},decls:2,vars:10,consts:[[1,"trial-item","dynamic-text"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._uU(1),s.qZA()),2&e&&(s.Udp("background-image",i.backgroundImage),s.Q6J("@fadeIn",s.WLB(7,Ju,"fade-in"===i.animate,s.VKq(5,Ku,i.animationDelay)))("@fadeOut","fade-out"===i.animate),s.xp6(1),s.hij(" ",i.cue,"\n"))},styles:["[_nghost-%COMP%]{display:block}button.trial-item.hover-able[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;min-height:75px;height:10vw;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-weight:bold;font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[on(),ee({duration:Q})]}}),t})();function Xu(t,n){1&t&&s._UZ(0,"trial-stimulus",4),2&t&&s.Q6J("animationDelay",n.$implicit)}function tc(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"trial-cue",5),s.NdJ("selected",function(r){const l=s.CHM(e).index;return s.oxw().selected(r,l+1)}),s.qZA()}2&t&&s.Q6J("animationDelay",n.$implicit)}let q=class{constructor(n){this.overlaySvc=n,this.animationDelayMs=Me,this.complete=!1,this.completed=new s.vpe,this.secondsInTrial=0}clearTimer(){this.timerSub&&this.timerSub.unsubscribe()}ngAfterViewInit(){if(!this.trialCueComponents)throw Error("Trial cue components are undefined");if(!this.trialStimulusComponents)throw Error("Trial stimulus components are undefined");this.trialCueComponents.changes.pipe((0,gt.t)(this)).subscribe(),this.trialStimulusComponents.changes.pipe((0,gt.t)(this)).subscribe()}selected(n,e){if(!this.startedAt)throw Error("Started at date is undefined");this.clearTimer(),this.complete=!0,this.completed.emit({cue:n,position:e,startedAt:this.startedAt,completedAt:new Date})}setTimer(){const{studyConfig:n}=this;if(!n)throw Error("Study configuration is undefined");this.clearTimer(),this.secondsInTrial=0,this.timerSub=(0,Mt.H)(rn,1e3).pipe((0,$u.o)(()=>this.secondsInTrial<n.trialTimeoutSeconds&&!this.complete),(0,nt.b)(()=>{this.secondsInTrial++,this.secondsInTrial===n.trialTimeoutSeconds&&!this.complete&&this.selected()}),(0,gt.t)(this)).subscribe()}show(n){var e,i;if(this.overlaySvc.hide(),!this.trialCueComponents)throw Error("Trial cue components are undefined");if(!this.trialStimulusComponents)throw Error("Trial stimulus components are undefined");setTimeout(()=>this.startedAt=new Date,Me.cues[0]),this.complete=!1,this.setTimer();for(const[r,o]of n.stimuli.entries())null===(e=this.trialStimulusComponents.get(r))||void 0===e||e.set(o.value);for(let r=0;r<this.trialCueComponents.length;r++)null===(i=this.trialCueComponents.get(r))||void 0===i||i.set(n.cueComponentConfigs[r])}};q.\u0275fac=function(n){return new(n||q)(s.Y36(ne.F))},q.\u0275cmp=s.Xpm({type:q,selectors:[["trial"]],viewQuery:function(n,e){if(1&n&&(s.Gf(an,5),s.Gf(dn,5)),2&n){let i;s.iGM(i=s.CRH())&&(e.trialCueComponents=i),s.iGM(i=s.CRH())&&(e.trialStimulusComponents=i)}},inputs:{studyConfig:"studyConfig"},outputs:{completed:"completed"},decls:4,vars:2,consts:[[1,"trial-sample-stimuli"],[3,"animationDelay",4,"ngFor","ngForOf"],[1,"trial-buttons"],[3,"animationDelay","selected",4,"ngFor","ngForOf"],[3,"animationDelay"],[3,"animationDelay","selected"]],template:function(n,e){1&n&&(s.TgZ(0,"div",0),s.YNc(1,Xu,1,1,"trial-stimulus",1),s.qZA(),s.TgZ(2,"div",2),s.YNc(3,tc,1,1,"trial-cue",3),s.qZA()),2&n&&(s.xp6(1),s.Q6J("ngForOf",e.animationDelayMs.stimuli),s.xp6(2),s.Q6J("ngForOf",e.animationDelayMs.cues))},directives:[y.sg,dn,an],styles:["[_nghost-%COMP%]{display:block}button.trial-item.hover-able[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;min-height:75px;height:10vw;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-weight:bold;font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}"]}),q=(0,V.gn)([(0,gt.c)(),(0,V.w6)("design:paramtypes",[ne.F])],q);var un=c(9573);function ic(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"trial",1),s.NdJ("completed",function(r){return s.CHM(e),s.oxw().trialCompleted.emit(r)}),s.qZA()}}let nc=(()=>{class t{constructor(e,i,r,o){this.dialog=e,this.overlaySvc=i,this.reportSvc=r,this.trialCounterSvc=o,this.completed=new T.xQ,this.containsSequentialTriplicates=!1,this.correct=0,this.failSafeDuration=0,this.feedBackShown=!1,this.incorrect=0,this.index=-1,this.isVisible=!0,this.name="Block",this.retryInstructions="CLICK TO TRY AGAIN",this.sequentialCorrect=0,this.startInstructions="CLICK TO START",this.started=new T.xQ,this.studyFailed=!1,this.trialCompleted=new s.vpe,this.trials=[],this._attempts=0,this._probeAttempts=0,this._totalTrials=0,this._trainingAttempts=0}get attempts(){return this._attempts}get probeAttempts(){return this._probeAttempts}get studyConfig(){if(!this._studyConfig)throw Error("Study configuration is undefined");return this._studyConfig}set studyConfig(e){this._studyConfig=e}get totalTrials(){return this._totalTrials}get trainingAttempts(){return this._trainingAttempts}get isLastTrial(){return this.index===this.trials.length-1}get percentCorrect(){return this.correct/(this.correct+this.incorrect)*100}get trialNum(){return this.index+1}complete(){this.incrementAttempt(),this.completedAt=new Date,setTimeout(()=>{this.completed.next({failed:!1})},X+(this.feedBackShown?850:Q))}createTrials(){return[]}failed(){this.completed.next({failed:!0})}feedbackEnabled(){return!1}grade(e){var i,r;if(!this.trial)throw Error("Trial is undefined");const o=(null===(i=null==e?void 0:e.cue)||void 0===i?void 0:i.value)===this.trial.relation;return(null===(r=null==e?void 0:e.cue)||void 0===r?void 0:r.value)===this.trial.relation?(this.correct++,this.sequentialCorrect++):(this.incorrect++,this.sequentialCorrect=0),o?"CORRECT":"WRONG"}increaseTotalTrials(){this._totalTrials++}incrementAttempt(){this._attempts++}incrementProbeAttempts(){return this._probeAttempts++}incrementTrainingAttempts(){return this._trainingAttempts++}nextTrial(){-1===this.index&&(this.startedAt=new Date),this.trialCounterSvc.increase(),this.trialCounterSvc.showColorTrial?(this.showTrial(function(){const t=kt(["red","green","blue"]);if(!t)throw Error("Missing color in create color trial");return{relation:t,relationType:"N/A",stimuli:[new f("choose",0,"choose"),new f(t,0,t)],cueComponentConfigs:(0,un.Z)([{fileName:_.Sg,isArbitrary:!1,value:"red",viewValue:"red"},{fileName:_.Sg,isArbitrary:!1,value:"blue",viewValue:"blue"},{fileName:_.Sg,isArbitrary:!1,value:"green",viewValue:"green"}])}}(),this.feedBackShown?850:0),this.trialCompleted.pipe((0,ft.P)()).subscribe(e=>this.cueSelected(e)),this.trialCounterSvc.reset()):this.index!==this.trials.length-1?(this.index++,this.showTrial(this.trials[this.index],this.feedBackShown?850:0),this.trialCompleted.pipe((0,ft.P)()).subscribe(e=>this.cueSelected(e))):this.complete()}prompt(e,i=!1,r=rn){return(0,Mt.H)(r).pipe((0,ft.P)(),(0,te.w)(()=>this.dialog.open(Zi,Nt({text:e,disableClose:i})).componentInstance.closeClicked.pipe((0,ft.P)())))}reset(){this.index=-1,this.correct=0,this.incorrect=0,this.sequentialCorrect=0,this.trials=this.createTrials()}retry(){this.incrementAttempt(),this.prompt(this.retryInstructions,!1,X+(this.feedBackShown?850:Q)).subscribe(()=>this.nextTrial()),this.reset()}showFeedback(e,i=1e3,r={delay:850,duration:Q}){this.feedBackShown=!0,this.isLastTrial&&this.overlaySvc.show(850),this.dialog.open(Qu,Nt({animationParams:r,durationMs:i,feedback:e}))}showTrial(e,i=850){this.feedBackShown=!1,this.trial=e,setTimeout(()=>{var r;return null===(r=this.trialComponent)||void 0===r?void 0:r.show(e)},i)}start(){0===this.trials.length&&this.reset(),this.prompt(this.startInstructions,!1,X).subscribe(()=>{this.started.next(),this.nextTrial()})}cueSelected(e){this.feedback=this.grade(e),(null==e?void 0:e.cue)?this.feedback&&this.feedbackEnabled()&&this.showFeedback(this.feedback):this.showFeedback("TIME EXPIRED"),this.reportSvc.addTrial(this,e),this.increaseTotalTrials(),this.nextTrial()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(J),s.Y36(ne.F),s.Y36(ie),s.Y36(ht))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block"]],viewQuery:function(e,i){if(1&e&&s.Gf(q,5),2&e){let r;s.iGM(r=s.CRH())&&(i.trialComponent=r.first)}},outputs:{completed:"completed",started:"started",trialCompleted:"trialCompleted"},decls:1,vars:1,consts:[[3,"completed",4,"ngIf"],[3,"completed"]],template:function(e,i){1&e&&s.YNc(0,ic,1,0,"trial",0),2&e&&s.Q6J("ngIf",i.isVisible)},directives:[y.O5,q],styles:[""]}),t})();var sc=c(2151);function cn(t){return(0,un.Z)(t.iCannotKnow?_.Tz:_.do).map(e=>({isArbitrary:t.cueType===_.j8.arbitrary,fileName:t.cueType===_.j8.nonArbitrary?_.Sg:_.FC[e],value:e,viewValue:sc.upper(e)}))}function rc(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"trial",1),s.NdJ("completed",function(r){return s.CHM(e),s.oxw().trialCompleted.emit(r)}),s.qZA()}if(2&t){const e=s.oxw();s.Q6J("studyConfig",e.studyConfig)}}let oc=(()=>{class t extends nc{constructor(e,i,r,o,l){super(e,i,r,o),this.oneToManyGraph=l,this.name="One To Many Block",this.probeTrialWithoutFeedbackStart=32,this.resettingCorrectCount=0,this.sequentialCorrectRequiredToAdvance=3,this.startInstructions="CLICK TO CONTINUE"}get finalNetwork(){return this.studyConfig.iCannotKnow?[16]:[15]}get trainingNetworks(){return this.studyConfig.iCannotKnow?this.oneToManyGraph.ickNetworkNumbers:this.oneToManyGraph.knownNetworkNumbers}createTrials(){const e=this.getOrderedTrials(this.trainingNetworks,lc),i=this.getOrderedTrials(this.trainingNetworks,ac),r=this.getOrderedTrials(this.finalNetwork,dc);return e.concat(i,r)}feedbackEnabled(){return this.index<this.probeTrialWithoutFeedbackStart}grade(e){var i,r;if(!this.trial)throw Error("Trial is undefined");const o=(null===(i=null==e?void 0:e.cue)||void 0===i?void 0:i.value)===this.trial.relation;return(null===(r=null==e?void 0:e.cue)||void 0===r?void 0:r.value)===this.trial.relation?(this.correct++,this.resettingCorrectCount++,this.sequentialCorrect++):(this.incorrect++,this.sequentialCorrect=0,this.resettingCorrectCount=0),o?"CORRECT":"WRONG"}nextTrial(){this.index>=this.probeTrialWithoutFeedbackStart||(this.resettingCorrectCount<this.sequentialCorrectRequiredToAdvance&&this.index>-1?(this.trial.cueComponentConfigs=cn(this.studyConfig),this.index--):this.resettingCorrectCount=0),super.nextTrial()}ngOnInit(){this.start()}reset(){this.index=-1,this.correct=0,this.incorrect=0,this.trials=this.createTrials()}start(){0===this.trials.length&&this.reset(),this.prompt(this.startInstructions,!1,X).subscribe(()=>{this.started.next(),this.nextTrial()})}getOrderedTrials(e,i){const r=[];for(const o of e)for(const{stimulus1:l,stimulus2:a}of i){const u=this.oneToManyGraph.getStimulusComparison(l,o,a,o);r.push(Object.assign(Object.assign({},u),{cueComponentConfigs:cn(this.studyConfig)}))}return r}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(J),s.Y36(ne.F),s.Y36(ie),s.Y36(ht),s.Y36($i))},t.\u0275cmp=s.Xpm({type:t,selectors:[["one-to-many-block"]],features:[s.qOj],decls:1,vars:1,consts:[[3,"studyConfig","completed",4,"ngIf"],[3,"studyConfig","completed"]],template:function(e,i){1&e&&s.YNc(0,rc,1,1,"trial",0),2&e&&s.Q6J("ngIf",i.isVisible)},directives:[y.O5,q],styles:[""],data:{animation:[]}}),t})();const lc=[{stimulus1:"A",stimulus2:"B"},{stimulus1:"B",stimulus2:"A"},{stimulus1:"B",stimulus2:"C"},{stimulus1:"C",stimulus2:"B"},{stimulus1:"C",stimulus2:"A"},{stimulus1:"A",stimulus2:"C"}],ac=[{stimulus1:"A",stimulus2:"B"},{stimulus1:"B",stimulus2:"C"}],dc=[{stimulus1:"B",stimulus2:"A"},{stimulus1:"B",stimulus2:"A"},{stimulus1:"B",stimulus2:"A"},{stimulus1:"C",stimulus2:"B"},{stimulus1:"C",stimulus2:"B"},{stimulus1:"C",stimulus2:"B"},{stimulus1:"C",stimulus2:"A"},{stimulus1:"C",stimulus2:"A"},{stimulus1:"C",stimulus2:"A"},{stimulus1:"A",stimulus2:"C"},{stimulus1:"A",stimulus2:"C"},{stimulus1:"A",stimulus2:"C"}],uc=["container"];function cc(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"mat-card",2),s.TgZ(1,"mat-card-title"),s._uU(2,"Welcome"),s.qZA(),s.TgZ(3,"mat-card-content",3),s._uU(4),s.qZA(),s.TgZ(5,"mat-card-actions"),s.TgZ(6,"button",4),s.NdJ("click",function(){return s.CHM(e),s.oxw().showPreSurvey()}),s._uU(7,"NEXT"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const e=s.oxw();s.xp6(4),s.hij(" ",e.instructions," ")}}let pt=class{constructor(n,e,i,r,o,l){this.document=n,this.componentFactoryResolver=e,this.dialog=i,this.reportSvc=r,this.studyConfigSvc=o,this.surveySvc=l,this.abandonmentEnabled=!1,this.blocks=[oc],this.complete=!1,this.instructions=nn,this.showInstructions=!0}createBlockComponent(n){if(!this.container)throw Error("Container is undefined");const e=this.componentFactoryResolver.resolveComponentFactory(n);this.container.clear();const r=this.container.createComponent(e).instance;r.studyConfig=this.studyConfigSvc.config,r.started.pipe((0,ft.P)(),(0,gt.t)(this)).subscribe(()=>this.abandonmentEnabled=!0),r.completed.pipe((0,ft.P)(),(0,nt.b)(({failed:o})=>{this.abandonmentEnabled=!1,o?this.showCompleteDialog("failed"):this.blocks.length?(this.nextBlock(),this.reportSvc.sendReport("block").then()):this.showCompleteDialog("complete")}),(0,gt.t)(this)).subscribe()}nextBlock(){this.showInstructions=!1;const n=this.blocks.shift();if(!n)throw Error("Block is undefined");this.createBlockComponent(n)}ngOnInit(){this.studyConfigSvc.loadStudyConfigFromParams().then()}showCompleteDialog(n){var e;const{participantId:i}=this.studyConfigSvc,r="abandoned"===n?`STUDY ABANDONED!\n\n PARTICIPANT ID:\n ${i}`:`THANKS FOR PARTICIPATING!\n\n PARTICIPANT ID:\n ${i}`;this.complete=!0,null===(e=this.container)||void 0===e||e.clear(),(0,Mt.H)(X).pipe((0,ft.P)(),(0,te.w)(()=>this.reportSvc.sendReport(n)),(0,te.w)(()=>"abandoned"!==n?this.surveySvc.showPostSurvey(i):[r]),(0,te.w)(()=>this.dialog.open(Zi,Nt({text:r,disableClose:!0})).afterClosed())).subscribe()}showPreSurvey(){this.surveySvc.showPreSurvey(this.studyConfigSvc.participantId).subscribe(()=>this.nextBlock())}};pt.\u0275fac=function(n){return new(n||pt)(s.Y36(y.K0),s.Y36(s._Vd),s.Y36(J),s.Y36(ie),s.Y36(Fe.R),s.Y36(Se))},pt.\u0275cmp=s.Xpm({type:pt,selectors:[["study"]],viewQuery:function(n,e){if(1&n&&s.Gf(uc,7,s.s_b),2&n){let i;s.iGM(i=s.CRH())&&(e.container=i.first)}},features:[s._Bn([])],decls:3,vars:1,consts:[["style","max-width: 400px",4,"ngIf"],["container",""],[2,"max-width","400px"],[2,"white-space","pre-line"],["color","primary","onclick","blur()","mat-button","",3,"click"]],template:function(n,e){1&n&&(s.YNc(0,cc,8,1,"mat-card",0),s.GkF(1,null,1)),2&n&&s.Q6J("ngIf",e.showInstructions)},directives:[y.O5,$.a8,$.n5,$.dn,$.hq,yt.lW],styles:["[_nghost-%COMP%]{-webkit-box-align:center;-webkit-box-pack:center;align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}.mat-card[_ngcontent-%COMP%]{max-height:100%}.mat-card-content[_ngcontent-%COMP%]{height:calc(100% - 80px);overflow:auto}"]}),pt=(0,V.gn)([(0,gt.c)(),(0,V.w6)("design:paramtypes",[Document,s._Vd,J,ie,Fe.R,Se])],pt);const gc=[{path:"",component:pt}];let fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[qi.Bz.forChild(gc)],qi.Bz]}),t})();const Rt=new s.OlP("Stimulus case");let hc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[Lu,Iu,ku,$i,{provide:Rt,useValue:Pu()}],imports:[[zo,y.ez,Qo,yt.ot,$.QW,$o,Uo,qo,fc,ju,Wo]]}),t})()},2151:function(se){(function(){"use strict";var et=function(d,p){return d.replace(/(^|-)/g,"$1\\u"+(p=p||"")).replace(/,/g,"\\u"+p)},c=et("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),y="a-z"+et("DF-F6,F8-FF","00"),s="A-Z"+et("C0-D6,D8-DE","00"),$=function(d,p,S,R){return d=d||c,p=p||y,S=S||s,R=R||"A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",{capitalize:new RegExp("(^|["+d+"])(["+p+"])","g"),pascal:new RegExp("(^|["+d+"])+(["+p+S+"])","g"),fill:new RegExp("["+d+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+p+"])","g"),improper:new RegExp("\\b("+R+")\\b","g"),relax:new RegExp("([^"+S+"])(["+S+"]*)(["+S+"])(?=[^"+S+"]|$)","g"),upper:new RegExp("^[^"+p+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+d+"]")}},T=$(),A={re:T,unicodes:et,regexps:$,types:[],up:String.prototype.toUpperCase,low:String.prototype.toLowerCase,cap:function(d){return A.up.call(d.charAt(0))+d.slice(1)},decap:function(d){return A.low.call(d.charAt(0))+d.slice(1)},deapostrophe:function(d){return d.replace(T.apostrophe,"")},fill:function(d,p,S){return null!=p&&(d=d.replace(T.fill,function(R,O){return O?p+O:""})),S&&(d=A.deapostrophe(d)),d},prep:function(d,p,S,R){if(d=null==d?"":d+"",!R&&T.upper.test(d)&&(d=A.low.call(d)),!p&&!T.hole.test(d)){var O=A.fill(d," ");T.hole.test(O)&&(d=O)}return!S&&!T.room.test(d)&&(d=d.replace(T.relax,A.relax)),d},relax:function(d,p,S,R){return p+" "+(S?S+" ":"")+R}},B={_:A,of:function(d){for(var p=0,S=A.types.length;p<S;p++)if(B[A.types[p]].apply(B,arguments)===d)return A.types[p]},flip:function(d){return d.replace(/\w/g,function(p){return(p==A.up.call(p)?A.low:A.up).call(p)})},random:function(d){return d.replace(/\w/g,function(p){return(Math.round(Math.random())?A.up:A.low).call(p)})},type:function(d,p){B[d]=p,A.types.push(d)}},it={lower:function(d,p,S){return A.fill(A.low.call(A.prep(d,p)),p,S)},snake:function(d){return B.lower(d,"_",!0)},constant:function(d){return B.upper(d,"_",!0)},camel:function(d){return A.decap(B.pascal(d))},kebab:function(d){return B.lower(d,"-",!0)},upper:function(d,p,S){return A.fill(A.up.call(A.prep(d,p,!1,!0)),p,S)},capital:function(d,p,S){return A.fill(A.prep(d).replace(T.capitalize,function(R,O,W){return O+A.up.call(W)}),p,S)},header:function(d){return B.capital(d,"-",!0)},pascal:function(d){return A.fill(A.prep(d,!1,!0).replace(T.pascal,function(p,S,R){return A.up.call(R)}),"",!0)},title:function(d){return B.capital(d).replace(T.improper,function(p,S,R,O){return R>0&&R<O.lastIndexOf(" ")?A.low.call(p):p})},sentence:function(d,p,S){return d=B.lower(d).replace(T.sentence,function(R,O,W){return O+A.up.call(W)}),p&&p.forEach(function(R){d=d.replace(new RegExp("\\b"+B.lower(R)+"\\b","g"),A.cap)}),S&&S.forEach(function(R){d=d.replace(new RegExp("(\\b"+B.lower(R)+"\\. +)(\\w)"),function(O,W,Gt){return W+A.low.call(Gt)})}),d}};for(var z in it.squish=it.pascal,B.default=B,it)B.type(z,it[z]);var nt="function"==typeof nt?nt:function(){};nt(se.exports?se.exports=B:this.Case=B)}).call(this)}}]);
(self.webpackChunkmeeku_fork=self.webpackChunkmeeku_fork||[]).push([[177],{9177:(fe,tt,c)=>{"use strict";c.r(tt),c.d(tt,{STIMULUS_CASE:()=>Nt,StudyModule:()=>fg});var m=c(2057),s=c(4788),ht=c(2895),Q=c(7639),R=c(9765),q=(c(6215),c(7574),c(6682),c(5435)),it=c(8307);const f={provide:s.tb,useFactory:function(t,i){return()=>{if((0,m.NF)(i)){const e=Array.from(t.querySelectorAll(`[class*=${S}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${S}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(n,"")})}}},deps:[m.K0,s.Lbi],multi:!0},S="flex-layout-";let G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[f]}),t})();const Tt={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},V=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Tt}),nt=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),he=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});c(9490),c(6782),c(1211);let di=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[G]]}),t})();var Gt=c(6794);let fi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[G,Gt.vT]]}),t})(),Ci=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[G]]}),t})(),yt=(()=>{class t{constructor(e,n){(0,m.PM)(n)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:V,useValue:Object.assign(Object.assign({},Tt),e)},{provide:he,useValue:n,multi:!0},{provide:nt,useValue:!0}]:[{provide:V,useValue:Object.assign(Object.assign({},Tt),e)},{provide:he,useValue:n,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(nt),s.LFG(s.Lbi))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[fi,di,Ci],fi,di,Ci]}),t})();var st=c(933),rt=c(2414),ot=c(7935),No=c(1439),Ho=c(5917),xe=c(5257),Vo=c(9761),ve=c(9642),D=c(6083),wi=c(3328),_i=c(2371);function qo(t,i){}class Ae{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const zo={dialogContainer:(0,D.X$)("dialogContainer",[(0,D.SB)("void, exit",(0,D.oB)({opacity:0,transform:"scale(0.7)"})),(0,D.SB)("enter",(0,D.oB)({transform:"none"})),(0,D.eR)("* => enter",(0,D.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,D.oB)({transform:"none",opacity:1}))),(0,D.eR)("* => void, * => exit",(0,D.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,D.oB)({opacity:0})))])};let Qo=(()=>{class t extends rt.en{constructor(e,n,r,o,l,a){super(),this._elementRef=e,this._focusTrapFactory=n,this._changeDetectorRef=r,this._config=l,this._focusMonitor=a,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(d)),this._ariaLabelledBy=l.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const n=(0,ve.ht)(),r=this._elementRef.nativeElement;(!n||n===this._document.body||n===r||r.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,ve.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,ve.ht)();return e===n||e.contains(n)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(_i.qV),s.Y36(s.sBO),s.Y36(m.K0,8),s.Y36(Ae),s.Y36(_i.tE))},t.\u0275dir=s.lG2({type:t,viewQuery:function(e,n){if(1&e&&s.Gf(rt.Pl,7),2&e){let r;s.iGM(r=s.CRH())&&(n._portalOutlet=r.first)}},features:[s.qOj]}),t})(),$o=(()=>{class t extends Qo{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:n}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}_onAnimationStart({toState:e,totalTime:n}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:n})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let i;return function(n){return(i||(i=s.n5z(t)))(n||t)}}(),t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,n){1&e&&s.WFA("@dialogContainer.start",function(o){return n._onAnimationStart(o)})("@dialogContainer.done",function(o){return n._onAnimationDone(o)}),2&e&&(s.Ikx("id",n._id),s.uIk("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),s.d8E("@dialogContainer",n._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&s.YNc(0,qo,0,0,"ng-template",0)},directives:[rt.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[zo.dialogContainer]}}),t})(),Uo=0;class xt{constructor(i,e,n="mat-dialog-"+Uo++){this._overlayRef=i,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new R.xQ,this._afterClosed=new R.xQ,this._beforeClosed=new R.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe((0,q.h)(r=>"opened"===r.state),(0,xe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,q.h)(r=>"closed"===r.state),(0,xe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe((0,q.h)(r=>r.keyCode===wi.hY&&!this.disableClose&&!(0,wi.Vb)(r))).subscribe(r=>{r.preventDefault(),Ce(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Ce(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe((0,q.h)(e=>"closing"===e.state),(0,xe.q)(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let e=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",e=""){return this._overlayRef.updateSize({width:i,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Ce(t,i,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=i),t.close(e)}const zt=new s.OlP("MatDialogData"),Zo=new s.OlP("mat-dialog-default-options"),Di=new s.OlP("mat-dialog-scroll-strategy"),Wo={provide:Di,deps:[st.aV],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Jo=(()=>{class t{constructor(e,n,r,o,l,a,d,g,p){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=l,this._dialogRefConstructor=d,this._dialogContainerType=g,this._dialogDataToken=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new R.xQ,this._afterOpenedAtThisLevel=new R.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,No.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Vo.O)(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,n){(n=function(t,i){return Object.assign(Object.assign({},i),t)}(n,this._defaultOptions||new Ae)).id&&this.getDialogById(n.id);const r=this._createOverlay(n),o=this._attachDialogContainer(r,n),l=this._attachDialogContent(e,o,r,n);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.afterClosed().subscribe(()=>this._removeOpenDialog(l)),this.afterOpened.next(l),o._initializeWithAttachedContent(),l}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const n=this._getOverlayConfig(e);return this._overlay.create(n)}_getOverlayConfig(e){const n=new st.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachDialogContainer(e,n){const o=s.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:Ae,useValue:n}]}),l=new rt.C5(this._dialogContainerType,n.viewContainerRef,o,n.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,n,r,o){const l=new this._dialogRefConstructor(r,n,o.id);if(e instanceof s.Rgc)n.attachTemplatePortal(new rt.UE(e,null,{$implicit:o.data,dialogRef:l}));else{const a=this._createInjector(o,l,n),d=n.attachComponentPortal(new rt.C5(e,o.viewContainerRef,a));l.componentInstance=d.instance}return l.updateSize(o.width,o.height).updatePosition(o.position),l}_createInjector(e,n,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,l=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:n}];return e.direction&&(!o||!o.get(Gt.Is,null,s.XFs.Optional))&&l.push({provide:Gt.Is,useValue:{value:e.direction,change:(0,Ho.of)()}}),s.zs3.create({parent:o||this._injector,providers:l})}_removeOpenDialog(e){const n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){let o=n[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(st.aV),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(st.Xj),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},t.\u0275dir=s.lG2({type:t}),t})(),J=(()=>{class t extends Jo{constructor(e,n,r,o,l,a,d){super(e,n,o,a,d,l,xt,$o,zt)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(st.aV),s.LFG(s.zs3),s.LFG(m.Ye,8),s.LFG(Zo,8),s.LFG(Di),s.LFG(t,12),s.LFG(st.Xj))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),tl=0,el=(()=>{class t{constructor(e,n,r){this._dialogRef=e,this._elementRef=n,this._dialog=r,this.id="mat-dialog-title-"+tl++}ngOnInit(){this._dialogRef||(this._dialogRef=function(t,i){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?i.find(n=>n.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(xt,8),s.Y36(s.SBq),s.Y36(J))},t.\u0275dir=s.lG2({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,n){2&e&&s.Ikx("id",n.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),il=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();let vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[J,Wo],imports:[[st.U8,rt.eL,ot.BQ],ot.BQ]}),t})(),nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[m.ez,ot.si]]}),t})(),sl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[m.ez,ot.si]]}),t})(),rl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[m.ez,yt]]}),t})(),Ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[m.ez,Q.QW,nl,sl,rl]]}),t})(),ol=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[m.ez,yt,vt,Ot]]}),t})(),Qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[m.ez,ot.si]]}),t})(),ll=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Qt,m.ez,yt,vt,Ot]]}),t})(),al=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Qt,m.ez,yt,vt,Ot]]}),t})(),dl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Qt,m.ez,yt,vt,Ot]]}),t})(),ul=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Qt,m.ez,yt,vt,Ot]]}),t})();var cl=c(7012);const bi=function(t){var i=t.length;return i?t[(0,cl.Z)(0,i-1)]:void 0};var fl=c(2258);const ml=function(t){return bi((0,fl.Z)(t))};var Lt=c(4654);const Bt=function(t){return((0,Lt.Z)(t)?bi:ml)(t)},we=["RWK","PGZ","QGK","FNK","ZVB","PWU","PLJ","KNF","GVW","KXL","GRQ","WPQ","BQP","FXX","ZTF","SGG","GQF","VXO","DZF","ZHD","JHH","VQP","JXY","ZVS","HGD","FJX","VHK","JTP","JTS","UHJ","WTZ","CXF","XFH","LWK","NWK","ZRG","FDG","NQC","WPW","YVR","HLJ","WBX","VGH","KXW","XAQ","WQG","DGJ","QUZ","QZX","HWL","DKX","ZDW","RZJ","VGJ","VWL","MKP","JFJ","GQY","BRX","IHG","YVP","SXG","FJC","QKU","WZY","QHJ","YTZ","RHF","YYB","QFH","ZUX","TQT","VZZ","BTQ","DHQ","XLW","VLW","VZJ","GGK","SWK","UFH","GPN","JSX","IQP","QUP","XDG","QWN","CBK","JVH","VXG","YBF","BVY","QZW","UPZ","WMX","XVN","RRX","QTX","DZN","WXP"],Fi={lower:"lower",upper:"upper"},yl=Object.values(Fi);function j(t){const i=Bt(we);if(void 0===i)throw Error('Random value returned "undefined"!');const e=we.indexOf(i);return e>-1&&we.splice(e,1),t===Fi.lower?i.toLowerCase():i.toUpperCase()}var F=(()=>{return(t=F||(F={})).identity="identity",t.trained="trained",t.mutuallyEntailed="mutually entailed",t.combinatoriallyEntailed="combinatorially entailed",F;var t})();class Y extends class{constructor(i,e){this.dest=e,this.src=i}toString(){return`${this.src}->${this.dest}`}}{constructor(i,e,n,r){super(i,e),this.relation=n,this.relationType=r}toString(){return`${this.src} ${this.relation} ${this.dest} (${this.relationType})`}}var Ti=c(6224);const $t=function(t,i){for(var e=t.length;e--;)if((0,Ti.Z)(t[e][0],i))return e;return-1};var _l=Array.prototype.splice;function At(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}At.prototype.clear=function(){this.__data__=[],this.size=0},At.prototype.delete=function(t){var i=this.__data__,e=$t(i,t);return!(e<0||(e==i.length-1?i.pop():_l.call(i,e,1),--this.size,0))},At.prototype.get=function(t){var i=this.__data__,e=$t(i,t);return e<0?void 0:i[e][1]},At.prototype.has=function(t){return $t(this.__data__,t)>-1},At.prototype.set=function(t,i){var e=this.__data__,n=$t(e,t);return n<0?(++this.size,e.push([t,i])):e[n][1]=i,this};const Ut=At;var Ct=c(7699),lt=c(309);const It=(0,Ct.Z)(lt.Z,"Map"),kt=(0,Ct.Z)(Object,"create");var Ul=Object.prototype.hasOwnProperty;var Jl=Object.prototype.hasOwnProperty;function wt(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}wt.prototype.clear=function(){this.__data__=kt?kt(null):{},this.size=0},wt.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},wt.prototype.get=function(t){var i=this.__data__;if(kt){var e=i[t];return"__lodash_hash_undefined__"===e?void 0:e}return Ul.call(i,t)?i[t]:void 0},wt.prototype.has=function(t){var i=this.__data__;return kt?void 0!==i[t]:Jl.call(i,t)},wt.prototype.set=function(t,i){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=kt&&void 0===i?"__lodash_hash_undefined__":i,this};const Mi=wt,Zt=function(t,i){var e=t.__data__;return function(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}(i)?e["string"==typeof i?"string":"hash"]:e.map};function _t(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var n=t[i];this.set(n[0],n[1])}}_t.prototype.clear=function(){this.size=0,this.__data__={hash:new Mi,map:new(It||Ut),string:new Mi}},_t.prototype.delete=function(t){var i=Zt(this,t).delete(t);return this.size-=i?1:0,i},_t.prototype.get=function(t){return Zt(this,t).get(t)},_t.prototype.has=function(t){return Zt(this,t).has(t)},_t.prototype.set=function(t,i){var e=Zt(this,t),n=e.size;return e.set(t,i),this.size+=e.size==n?0:1,this};const Ri=_t;function Dt(t){var i=this.__data__=new Ut(t);this.size=i.size}Dt.prototype.clear=function(){this.__data__=new Ut,this.size=0},Dt.prototype.delete=function(t){var i=this.__data__,e=i.delete(t);return this.size=i.size,e},Dt.prototype.get=function(t){return this.__data__.get(t)},Dt.prototype.has=function(t){return this.__data__.has(t)},Dt.prototype.set=function(t,i){var e=this.__data__;if(e instanceof Ut){var n=e.__data__;if(!It||n.length<199)return n.push([t,i]),this.size=++e.size,this;e=this.__data__=new Ri(n)}return e.set(t,i),this.size=e.size,this};const Kt=Dt;var Gi=c(5427),wa=c(8893);const Wt=function(t,i,e,n){var r=!e;e||(e={});for(var o=-1,l=i.length;++o<l;){var a=i[o],d=n?n(e[a],t[a],a,e,t):void 0;void 0===d&&(d=t[a]),r?(0,wa.Z)(e,a,d):(0,Gi.Z)(e,a,d)}return e};var _e=c(3709);var ba=c(5175),De=c(4214),Ei=c(1550);var Ra=Object.prototype.hasOwnProperty;const Ea=function(t){if(!(0,De.Z)(t))return function(t){var i=[];if(null!=t)for(var e in Object(t))i.push(e);return i}(t);var i=(0,Ei.Z)(t),e=[];for(var n in t)"constructor"==n&&(i||!Ra.call(t,n))||e.push(n);return e};var Oa=c(8402);const Se=function(t){return(0,Oa.Z)(t)?(0,ba.Z)(t,!0):Ea(t)};var Oi="object"==typeof exports&&exports&&!exports.nodeType&&exports,Li=Oi&&"object"==typeof module&&module&&!module.nodeType&&module,Bi=Li&&Li.exports===Oi?lt.Z.Buffer:void 0,Ii=Bi?Bi.allocUnsafe:void 0;var ja=c(6889);const ki=function(){return[]};var za=Object.prototype.propertyIsEnumerable,Pi=Object.getOwnPropertySymbols;const be=Pi?function(t){return null==t?[]:(t=Object(t),function(t,i){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var l=t[e];i(l,e,t)&&(o[r++]=l)}return o}(Pi(t),function(i){return za.call(t,i)}))}:ki,Yi=function(t,i){for(var e=-1,n=i.length,r=t.length;++e<n;)t[r+e]=i[e];return t},ji=(0,c(4184).Z)(Object.getPrototypeOf,Object),Ni=Object.getOwnPropertySymbols?function(t){for(var i=[];t;)Yi(i,be(t)),t=ji(t);return i}:ki,Hi=function(t,i,e){var n=i(t);return(0,Lt.Z)(t)?n:Yi(n,e(t))},Fe=function(t){return Hi(t,_e.Z,be)},rd=function(t){return Hi(t,Se,Ni)},Te=(0,Ct.Z)(lt.Z,"DataView"),Me=(0,Ct.Z)(lt.Z,"Promise"),Re=(0,Ct.Z)(lt.Z,"Set"),Ge=(0,Ct.Z)(lt.Z,"WeakMap");var Vi=c(3369),St=c(2035),qi="[object Map]",zi="[object Promise]",Qi="[object Set]",$i="[object WeakMap]",Ui="[object DataView]",cd=(0,St.Z)(Te),gd=(0,St.Z)(It),fd=(0,St.Z)(Me),hd=(0,St.Z)(Re),md=(0,St.Z)(Ge),at=Vi.Z;(Te&&at(new Te(new ArrayBuffer(1)))!=Ui||It&&at(new It)!=qi||Me&&at(Me.resolve())!=zi||Re&&at(new Re)!=Qi||Ge&&at(new Ge)!=$i)&&(at=function(t){var i=(0,Vi.Z)(t),e="[object Object]"==i?t.constructor:void 0,n=e?(0,St.Z)(e):"";if(n)switch(n){case cd:return Ui;case gd:return qi;case fd:return zi;case hd:return Qi;case md:return $i}return i});const Pt=at;var yd=Object.prototype.hasOwnProperty;const Jt=lt.Z.Uint8Array,Ee=function(t){var i=new t.constructor(t.byteLength);return new Jt(i).set(new Jt(t)),i};var Dd=/\w*$/;var Xt=c(5770),Zi=Xt.Z?Xt.Z.prototype:void 0,Ki=Zi?Zi.valueOf:void 0;const Wd=function(t,i,e){var n=t.constructor;switch(i){case"[object ArrayBuffer]":return Ee(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function(t,i){var e=i?Ee(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,i){var e=i?Ee(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return function(t){var i=new t.constructor(t.source,Dd.exec(t));return i.lastIndex=t.lastIndex,i}(t);case"[object Set]":return new n;case"[object Symbol]":return function(t){return Ki?Object(Ki.call(t)):{}}(t)}};var Wi=Object.create;const Xd=function(){function t(){}return function(i){if(!(0,De.Z)(i))return{};if(Wi)return Wi(i);t.prototype=i;var e=new t;return t.prototype=void 0,e}}();var Oe=c(5104),te=c(6539);var Ji=c(1162),ee=c(8514),Xi=ee.Z&&ee.Z.isMap;const ou=Xi?(0,Ji.Z)(Xi):function(t){return(0,te.Z)(t)&&"[object Map]"==Pt(t)};var tn=ee.Z&&ee.Z.isSet;const cu=tn?(0,Ji.Z)(tn):function(t){return(0,te.Z)(t)&&"[object Set]"==Pt(t)};var en="[object Arguments]",nn="[object Function]",sn="[object Object]",T={};T[en]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[sn]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[nn]=T["[object WeakMap]"]=!1;const Pu=function ie(t,i,e,n,r,o){var l,a=1&i,d=2&i,g=4&i;if(e&&(l=r?e(t,n,r,o):e(t)),void 0!==l)return l;if(!(0,De.Z)(t))return t;var p=(0,Lt.Z)(t);if(p){if(l=function(t){var i=t.length,e=new t.constructor(i);return i&&"string"==typeof t[0]&&yd.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return(0,ja.Z)(t,l)}else{var h=Pt(t),w=h==nn||"[object GeneratorFunction]"==h;if((0,Oe.Z)(t))return function(t,i){if(i)return t.slice();var e=t.length,n=Ii?Ii(e):new t.constructor(e);return t.copy(n),n}(t,a);if(h==sn||h==en||w&&!r){if(l=d||w?{}:function(t){return"function"!=typeof t.constructor||(0,Ei.Z)(t)?{}:Xd(ji(t))}(t),!a)return d?function(t,i){return Wt(t,Ni(t),i)}(t,function(t,i){return t&&Wt(i,Se(i),t)}(l,t)):function(t,i){return Wt(t,be(t),i)}(t,function(t,i){return t&&Wt(i,(0,_e.Z)(i),t)}(l,t))}else{if(!T[h])return r?t:{};l=Wd(t,h,a)}}o||(o=new Kt);var v=o.get(t);if(v)return v;o.set(t,l),cu(t)?t.forEach(function(L){l.add(ie(L,i,e,L,t,o))}):ou(t)&&t.forEach(function(L,C){l.set(C,ie(L,i,e,C,t,o))});var _=p?void 0:(g?d?rd:Fe:d?Se:_e.Z)(t);return function(t,i){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==i(t[e],e,t););}(_||t,function(L,C){_&&(L=t[C=L]),(0,Gi.Z)(l,C,ie(L,i,e,C,t,o))}),l},rn=function(t){return Pu(t,5)};class Le extends class{constructor(){this.edges=new Map,this.nodes=new Set}addEdge(i){var e;const n=i.src,r=i.dest;if(!this.hasNode(n))throw Error(`addEdge failed source node "${n.toString()}" is not in graph.`);if(!this.hasNode(r))throw Error(`addEdge failed destination node "${r.toString()}" is not in graph.`);if(null===(e=this.edges.get(i.src))||void 0===e?void 0:e.some(o=>o.src===n&&o.dest===r))throw Error(`Add edge failed an edge already exists with src ${n.toString()} => dest ${r.toString()}`);this.edges.set(i.src,this.edges.get(i.src).concat(i))}addNode(i){if(this.nodes.has(i))throw Error(`addNode failed node "${i.toString()}" already exists`);this.nodes.add(i),this.edges.set(i,[])}findPathway(i,e,n,r={nodes:[],edges:[]},o=[]){if(r.nodes=r.nodes.concat(i),n&&(r.edges=r.edges.concat(n)),i===e)return o.concat(r);for(const l of this.getEdgesForNode(i))if(!r.nodes.map(a=>a.toString()).includes(l.dest.toString())){const a=this.findPathway(l.dest,e,l,rn(r),o);a&&(o=o.concat(a))}return o}getEdgesForNode(i){return this.edges.get(i)||[]}hasNode(i){return this.nodes.has(i)}toString(){return Array.from(this.edges.values()).flat().filter(Boolean).map(i=>i.toString()).join("\n")}}{constructor(i){super(),this.includeRelationsBetweenNetworks=!1,this.selfRelation=i.selfRelation,this.unknownRelation=i.unknownRelation,this.mutualDictionary=i.mutualDictionary,this.combinatorialDictionary=i.combinatorialDictionary}get combinatoriallyEntailed(){const i=[],e=[...this.nodes];for(const n of e)for(const r of e){if(n===r||!this.includeRelationsBetweenNetworks&&n.network!==r.network||this.getEdgesForNode(n).find(l=>l.dest===r))continue;const o=this.findPathway(n,r).map(l=>l.edges.map(a=>a.relation)).reduce((l,a,d)=>{const g=[...a];let p=g.shift();for(;g.length;){const h=g.shift();p=this.combinatorialDictionary[p][h]}return l.push(p),a.length=0,l},[]);0===o.length&&o.push(this.unknownRelation),[...new Set(o.filter(l=>l!==this.unknownRelation))].length>1?console.warn(`Multiple relations detected for ${n.toString()} => ${r.toString()} comparison`,o):i.push({relation:o[0],relationType:F.combinatoriallyEntailed,stimuli:[n,r]})}return i}get identities(){return[...this.nodes].map(i=>({relation:this.selfRelation,relationType:F.identity,stimuli:[i,i]}))}get mutuallyEntailed(){return[...this.edges.values()].flat().filter(i=>i.relationType===F.mutuallyEntailed).map(i=>({relation:i.relation,relationType:i.relationType,stimuli:[i.src,i.dest]}))}get trained(){return[...this.edges.values()].flat().filter(i=>i.relationType===F.trained).map(i=>({relation:i.relation,relationType:i.relationType,stimuli:[i.src,i.dest]}))}addTrainedAndMutualRelations(i){var e,n;const r=i.src,o=i.dest;if(!this.hasNode(r))throw Error(`Add edge failed source node "${r.toString()}" is not in graph.`);if(!this.hasNode(o))throw Error(`Add edge failed destination node "${o.toString()}" is not in graph.`);if(!(null===(e=this.mutualDictionary)||void 0===e?void 0:e[i.relation]))throw Error(`Could not find inverse of relation ${i.relation}`);if(null===(n=this.edges.get(i.src))||void 0===n?void 0:n.some(l=>l.src===r&&l.dest===o))throw Error(`Add edge failed an edge already exists with src ${r.toString()} => dest ${o.toString()}`);this.edges.set(i.src,this.edges.get(i.src).concat(i)),this.edges.set(i.dest,this.edges.get(i.dest).concat(new Y(i.dest,i.src,this.mutualDictionary[i.relation],F.mutuallyEntailed)))}findPathway(i,e,n,r={nodes:[],edges:[]},o=[]){if(r.nodes=r.nodes.concat(i),n&&(r.edges=r.edges.concat(n)),i===e)return o.concat(r);for(const l of this.getEdgesForNode(i))if(!r.nodes.map(a=>a.toString()).includes(l.dest.toString())){const a=this.findPathway(l.dest,e,l,rn(r),o);a&&(o=o.concat(a))}return o}toString(){return[].concat(this.identities,this.trained,this.mutuallyEntailed,this.combinatoriallyEntailed).flat().map(i=>`${i.relationType}: ${i.stimuli[0]} ${i.relation} ${i.stimuli[1]}`).join("\n")}}class k{constructor(i,e,n=""){this.name=i,this.network=e,this.value=n}repr(){return`new RelationalFrameNode('${this.name}','${this.network}','${this.value}')`}toString(){return`${this.name}${this.network}`}}var Be=c(202);let Vu=(()=>{class t extends Le{constructor(e,n){super(n),this.stimulusCase=e,this.relationalFrameGraphConfig=n,this.includeRelationsBetweenNetworks=!0;const r=new k("A",1,j(e)),o=new k("B",1,j(e)),l=new k("C",1,j(e));this.addNode(r),this.addNode(o),this.addNode(l),this.addEdge(new Y(r,o,"different",F.trained)),this.addEdge(new Y(r,l,"different",F.trained)),this.addEdge(new Y(o,r,"different",F.trained)),this.addEdge(new Y(o,l,"different",F.trained)),this.addEdge(new Y(l,r,"different",F.trained)),this.addEdge(new Y(l,o,"different",F.trained));const a=new k("D",2,j(e)),d=new k("E",2,j(e)),g=new k("F",2,j(e));this.addNode(a),this.addNode(d),this.addNode(g)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Nt),s.LFG(Be.o))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=c(4146);const qu=[[x.bR.same,x.bR.same,void 0],[x.bR.same,x.bR.greaterThan,void 0],[x.bR.same,x.bR.lessThan,void 0],[x.bR.lessThan,x.bR.same,void 0],[x.bR.lessThan,void 0,x.bR.lessThan],[x.bR.lessThan,x.bR.greaterThan,void 0],[x.bR.greaterThan,x.bR.same,void 0],[x.bR.greaterThan,x.bR.lessThan,void 0],[x.bR.greaterThan,void 0,x.bR.greaterThan]],zu=[[x.bR.lessThan,x.bR.lessThan,void 0],[x.bR.greaterThan,x.bR.greaterThan,void 0]];let Qu=(()=>{class t extends Le{constructor(e,n){super(n),this.stimulusCase=e,this.relationalFrameGraphConfig=n,this.includeRelationsBetweenNetworks=!0;const r=new k("A",3,j(e)),o=new k("B",3,j(e)),l=new k("C",3,j(e));this.addNode(r),this.addNode(o),this.addNode(l);const[a,d,g]=Bt(qu);a&&this.addTrainedAndMutualRelations(new Y(r,o,a,F.trained)),d&&this.addTrainedAndMutualRelations(new Y(r,l,d,F.trained)),g&&this.addTrainedAndMutualRelations(new Y(o,l,g,F.trained));const p=new k("A",4,j(e)),h=new k("B",4,j(e)),w=new k("C",4,j(e));this.addNode(p),this.addNode(h),this.addNode(w);const[v,b,_]=Bt(zu);v&&this.addTrainedAndMutualRelations(new Y(p,h,v,F.trained)),b&&this.addTrainedAndMutualRelations(new Y(p,w,b,F.trained)),_&&this.addTrainedAndMutualRelations(new Y(h,w,_,F.trained))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Nt),s.LFG(Be.o))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),on=(()=>{class t extends Le{constructor(e,n){super(n),this.stimulusCase=e,this.relationalFrameGraphConfig=n;const r=new k("A",5,j(e)),o=new k("B",5,j(e)),l=new k("C",5,j(e));this.addNode(r),this.addNode(o),this.addNode(l),this.addTrainedAndMutualRelations(new Y(r,o,"same",F.trained)),this.addTrainedAndMutualRelations(new Y(r,l,"same",F.trained)),this.addTrainedAndMutualRelations(new Y(o,l,"same",F.trained));const a=new k("A",6,j(e)),d=new k("B",6,j(e)),g=new k("C",6,j(e));this.addNode(a),this.addNode(d),this.addNode(g),this.addTrainedAndMutualRelations(new Y(a,d,"greaterThan",F.trained)),this.addTrainedAndMutualRelations(new Y(a,g,"greaterThan",F.trained)),this.addTrainedAndMutualRelations(new Y(d,g,"greaterThan",F.trained))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Nt),s.LFG(Be.o))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $u(){const t=Bt(yl);if(void 0===t)throw Error('Random stimulus case returned "undefined"!');return t}function Yt(t){return{data:t,disableClose:!0,hasBackdrop:!1,closeOnNavigation:!0,height:"100vh",maxHeight:"100vh",maxWidth:"100vw",panelClass:["fullscreen-dialog-container","animate__animated","animate__fadeIn"],width:"100vw"}}function Uu(t,i){1&t&&s._UZ(0,"iframe",5)}function Zu(t,i){1&t&&s._UZ(0,"iframe",6)}let ln=(()=>{class t{constructor(e,n){this.data=e,this.ref=n}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(zt),s.Y36(xt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["survey-dialog"]],decls:7,vars:3,consts:[["mat-dialog-title","",1,"p-3","text-center"],["src","https://docs.google.com/forms/d/e/1FAIpQLSfUjqCloWRFFmtxktYAz-vnNuoo-YpdY1rpuS8bNAM7JiK9Jw/viewform?embedded=true",4,"ngIf"],["src","https://docs.google.com/forms/d/e/1FAIpQLSczKoo6Uf1wy11LoWiwvIcECIjoZy3YdAA-bCzNVDZtpxvAFg/viewform?embedded=true",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","color","primary",3,"click"],["src","https://docs.google.com/forms/d/e/1FAIpQLSfUjqCloWRFFmtxktYAz-vnNuoo-YpdY1rpuS8bNAM7JiK9Jw/viewform?embedded=true"],["src","https://docs.google.com/forms/d/e/1FAIpQLSczKoo6Uf1wy11LoWiwvIcECIjoZy3YdAA-bCzNVDZtpxvAFg/viewform?embedded=true"]],template:function(e,n){1&e&&(s.TgZ(0,"h1",0),s._uU(1),s.qZA(),s.YNc(2,Uu,1,0,"iframe",1),s.YNc(3,Zu,1,0,"iframe",2),s.TgZ(4,"div",3),s.TgZ(5,"button",4),s.NdJ("click",function(){return n.ref.close()}),s._uU(6,"RETURN TO STUDY"),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Oqu(n.data.title),s.xp6(1),s.Q6J("ngIf","pre"===n.data.survey),s.xp6(1),s.Q6J("ngIf","post"===n.data.survey))},directives:[el,m.O5,il,ht.lW],styles:["[_nghost-%COMP%]{display:block;padding:16px}iframe[_ngcontent-%COMP%]{height:calc(100vh - 164px);width:calc(100vw - 32px)}"]}),t})(),Ie=(()=>{class t{constructor(e){this.dialog=e}showPostSurvey(e){return this.dialog.open(ln,Yt({title:`Post Survey | Participant Id = ${e}`,survey:"post"})).afterClosed()}showPreSurvey(e){return this.dialog.open(ln,Yt({title:`Pre Survey | Participant Id = ${e}`,survey:"pre"})).afterClosed()}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(J))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),Ku=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[Ie],imports:[[m.ez,vt,ht.ot]]}),t})();var an=c(2636),H=c(4762),dt=c(9524),bt=c(6797),ut=c(8049),ne=c(3190);function se(t){return(0,D.X$)((null==t?void 0:t.anchor)||"fadeOut",[(0,D.SB)("false",(0,D.oB)({visibility:"visible",opacity:1})),(0,D.SB)(":leave",(0,D.oB)({visibility:"visible",opacity:1})),(0,D.SB)("true",(0,D.oB)({visibility:"hidden",opacity:0})),(0,D.eR)("void => *",(0,D.jt)(0)),(0,D.eR)("* => true",(0,D.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}const z=150;let un=(()=>{class t{constructor(e,n){this.data=e,this.ref=n,this.animated=!1,this.closeClicked=new R.xQ,this.disableClose=Boolean(this.data.disableClose)}close(){return(0,H.mG)(this,void 0,void 0,function*(){this.closeClicked.next(),this.animated=!0,yield(0,bt.H)(750).toPromise(),this.ref.close()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(zt),s.Y36(xt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block-start-dialog"]],decls:3,vars:3,consts:[["matRipple","",1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white",3,"matRippleDisabled","tap"],[1,"overlay-dynamic-text","user-select-none"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.NdJ("tap",function(){return!1===n.disableClose&&n.close()}),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Q6J("@fadeOut",n.animated)("matRippleDisabled",n.animated||n.disableClose),s.xp6(2),s.Oqu(n.data.text))},directives:[ot.wG],styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{white-space:pre-wrap;font-size:clamp(1rem,8vw,15rem);line-height:clamp(1rem,8vw,15rem);text-align:center}"],data:{animation:[se({duration:z})]}}),t})();var Pe=c(9573);function re(t){var i=-1,e=null==t?0:t.length;for(this.__data__=new Ri;++i<e;)this.add(t[i])}re.prototype.add=re.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},re.prototype.has=function(t){return this.__data__.has(t)};const ic=re,sc=function(t,i){for(var e=-1,n=null==t?0:t.length;++e<n;)if(i(t[e],e,t))return!0;return!1},oc=function(t,i){return t.has(i)},cn=function(t,i,e,n,r,o){var l=1&e,a=t.length,d=i.length;if(a!=d&&!(l&&d>a))return!1;var g=o.get(t),p=o.get(i);if(g&&p)return g==i&&p==t;var h=-1,w=!0,v=2&e?new ic:void 0;for(o.set(t,i),o.set(i,t);++h<a;){var b=t[h],_=i[h];if(n)var L=l?n(_,b,h,i,t,o):n(b,_,h,t,i,o);if(void 0!==L){if(L)continue;w=!1;break}if(v){if(!sc(i,function(C,N){if(!oc(v,N)&&(b===C||r(b,C,e,n,o)))return v.push(N)})){w=!1;break}}else if(b!==_&&!r(b,_,e,n,o)){w=!1;break}}return o.delete(t),o.delete(i),w},cc=function(t){var i=-1,e=Array(t.size);return t.forEach(function(n,r){e[++i]=[r,n]}),e},fc=function(t){var i=-1,e=Array(t.size);return t.forEach(function(n){e[++i]=n}),e};var gn=Xt.Z?Xt.Z.prototype:void 0,Ye=gn?gn.valueOf:void 0;var Gc=Object.prototype.hasOwnProperty;var Lc=c(7728),fn="[object Arguments]",hn="[object Array]",oe="[object Object]",mn=Object.prototype.hasOwnProperty;const Pc=function(t,i,e,n,r,o){var l=(0,Lt.Z)(t),a=(0,Lt.Z)(i),d=l?hn:Pt(t),g=a?hn:Pt(i),p=(d=d==fn?oe:d)==oe,h=(g=g==fn?oe:g)==oe,w=d==g;if(w&&(0,Oe.Z)(t)){if(!(0,Oe.Z)(i))return!1;l=!0,p=!1}if(w&&!p)return o||(o=new Kt),l||(0,Lc.Z)(t)?cn(t,i,e,n,r,o):function(t,i,e,n,r,o,l){switch(e){case"[object DataView]":if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)return!1;t=t.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=i.byteLength||!o(new Jt(t),new Jt(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,Ti.Z)(+t,+i);case"[object Error]":return t.name==i.name&&t.message==i.message;case"[object RegExp]":case"[object String]":return t==i+"";case"[object Map]":var a=cc;case"[object Set]":if(a||(a=fc),t.size!=i.size&&!(1&n))return!1;var g=l.get(t);if(g)return g==i;n|=2,l.set(t,i);var p=cn(a(t),a(i),n,r,o,l);return l.delete(t),p;case"[object Symbol]":if(Ye)return Ye.call(t)==Ye.call(i)}return!1}(t,i,d,e,n,r,o);if(!(1&e)){var v=p&&mn.call(t,"__wrapped__"),b=h&&mn.call(i,"__wrapped__");if(v||b){var _=v?t.value():t,L=b?i.value():i;return o||(o=new Kt),r(_,L,e,n,o)}}return!!w&&(o||(o=new Kt),function(t,i,e,n,r,o){var l=1&e,a=Fe(t),d=a.length;if(d!=Fe(i).length&&!l)return!1;for(var h=d;h--;){var w=a[h];if(!(l?w in i:Gc.call(i,w)))return!1}var v=o.get(t),b=o.get(i);if(v&&b)return v==i&&b==t;var _=!0;o.set(t,i),o.set(i,t);for(var L=l;++h<d;){var C=t[w=a[h]],N=i[w];if(n)var ue=l?n(N,C,w,i,t,o):n(C,N,w,t,i,o);if(!(void 0===ue?C===N||r(C,N,e,n,o):ue)){_=!1;break}L||(L="constructor"==w)}if(_&&!L){var ce=t.constructor,ge=i.constructor;ce!=ge&&"constructor"in t&&"constructor"in i&&!("function"==typeof ce&&ce instanceof ce&&"function"==typeof ge&&ge instanceof ge)&&(_=!1)}return o.delete(t),o.delete(i),_}(t,i,e,n,r,o))},Yc=function pn(t,i,e,n,r){return t===i||(null==t||null==i||!(0,te.Z)(t)&&!(0,te.Z)(i)?t!=t&&i!=i:Pc(t,i,e,n,pn,r))},Nc=function(t,i){return Yc(t,i)};var y=c(4751);const jt={_origin:"https://api.emailjs.com"};class vn{constructor(i){this.status=i.status,this.text=i.responseText}}const Cn=(t,i,e,n)=>{const r=n||jt._userID;return((t,i,e)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!i)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(r,t,i),((t,i,e={})=>new Promise((n,r)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:l})=>{const a=new vn(l);200===a.status||"OK"===a.text?n(a):r(a)}),o.addEventListener("error",({target:l})=>{r(new vn(l))}),o.open("POST",jt._origin+t,!0),Object.keys(e).forEach(l=>{o.setRequestHeader(l,e[l])}),o.send(i)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:t,template_id:i,template_params:e}),{"Content-type":"application/json"})};var je=c(9119);const wn="Throughout this experiment, you will be presented with two sets of letter sequences, one at the top portion of the screen and one in the middle portion of the screen. You will also be presented with some response option buttons along the bottom of the screen. These buttons may denote the relationship between the letter sequences. They may or may not be familiar to you. Your task is to select the response option that accurately represents the relationship between the letter sequences. You can make your selection by touching the screen or clicking on the relevant response option at the bottom of the screen.\n\n\nYour participation has to be done in one sitting. Typically, participation takes 10 minutes but sometimes exceeds 45 minutes to complete. To successfully complete quickly, it is recommended that you minimize sources of distraction while participating. This includes being in a quiet space away from other devices and putting this device on \u201cDo not disturb\u201d mode or its equivalent.\n\n\nSuccessful completion may be challenging and confusing. Please persist to the end and give it your best effort. During some portions of the experiment you will be provided feedback on your selections. If you don\u2019t see feedback, please continue making selections. There is a time limit for making your selections. Please choose your response as fast as you can while still being accurate. Your compensation will go up the more accurate you are.";var Vc=c(2376);let le=(()=>{class t{constructor(e,n){this.fb=e,this.studyConfigService=n,this.reportEntries=[],this.formGroup=this.fb.group({studyInstructions:[""],participantId:["",y.kI.required],iCannotKnow:["",y.kI.required],contextualControl:["",y.kI.required],cueType:["",[y.kI.required]],trialTimeoutSeconds:[0,y.kI.min(1)],balanceEquivalence:[0,y.kI.min(1)],balanceLessThan:[0,y.kI.min(1)],balanceGreaterThan:[0,y.kI.min(1)],balanceICannotKnow:[-1,y.kI.min(0)],blockId:["",y.kI.required],blockAttempts:[-1,y.kI.min(0)],stimulusCase:["",y.kI.required],trainingAttempts:[-1,y.kI.min(0)],probeAttempts:[-1,y.kI.min(0)],trialNumber:[-1,y.kI.min(0)],totalTrials:[-1,y.kI.min(0)],sampleNode:["",y.kI.required],sample:["",y.kI.required],comparisonNode:["",y.kI.required],comparison:["",y.kI.required],correctResponse:["",y.kI.required],button1Image:["",y.kI.required],button1Relation:["",y.kI.required],button2Image:["",y.kI.required],button2Relation:["",y.kI.required],button3Image:["",y.kI.required],button3Relation:["",y.kI.required],button4Image:["",y.kI.required],button4Relation:["",y.kI.required],buttonPosition:[-2,y.kI.min(-1)],selectedResponse:[""],consequence:[""],trialStarted:["",y.kI.required],trialCompleted:["",y.kI.required],trialDurationInSeconds:[-1,y.kI.min(0)],trialOutcome:["",y.kI.required],containsSequentialTriplicates:["",y.kI.required],failSafeDuration:["",y.kI.required],startInstructions:["",y.kI.required],retryInstructions:["",y.kI.required],studyFailed:["FALSE"],sequentialCorrect:[-1,y.kI.min(0)]})}add(e,n){this.formGroup.get(e).setValue(n)}addTrial(e,n){var r,o;if(!e.studyConfig)throw Error("Study configuration is undefined");if(!e.trial)throw Error("Trial is undefined");this.studyConfig=e.studyConfig,this.add("studyInstructions",0===this.reportEntries.length?wn.replaceAll("\n",""):""),this.add("participantId",e.studyConfig.participantId),this.add("iCannotKnow",e.studyConfig.iCannotKnow),this.add("contextualControl",e.studyConfig.contextualControl),this.add("cueType",e.studyConfig.cueType),this.add("trialTimeoutSeconds",e.studyConfig.trialTimeoutSeconds),this.add("balanceEquivalence",e.studyConfig.balance.same),this.add("balanceLessThan",e.studyConfig.balance.lessThan),this.add("balanceGreaterThan",e.studyConfig.balance.greaterThan),this.add("balanceICannotKnow",null!==(r=e.studyConfig.balance.iCannotKnow)&&void 0!==r?r:0),this.add("blockId",e.name),this.add("blockAttempts",e.attempts),this.add("trainingAttempts",e.trainingAttempts),this.add("probeAttempts",e.probeAttempts),this.add("trialNumber",e.trialNum),this.add("totalTrials",e.totalTrials),this.add("sampleNode",e.trial.stimuli[0].toString()),this.add("sample",e.trial.stimuli[0].value),this.add("comparisonNode",e.trial.stimuli[1].toString()),this.add("comparison",e.trial.stimuli[1].value),this.add("correctResponse",e.trial.relation),this.add("button1Image",e.trial.cueComponentConfigs[0].fileName),this.add("button1Relation",e.trial.cueComponentConfigs[0].value),this.add("button2Image",e.trial.cueComponentConfigs[1].fileName),this.add("button2Relation",e.trial.cueComponentConfigs[1].value),this.add("button3Image",e.trial.cueComponentConfigs[2].fileName),this.add("button3Relation",e.trial.cueComponentConfigs[2].value),this.add("button4Image",e.trial.cueComponentConfigs.length>=4?e.trial.cueComponentConfigs[3].fileName:"UNDEFINED"),this.add("button4Relation",e.trial.cueComponentConfigs.length>=4?e.trial.cueComponentConfigs[3].value:"UNDEFINED"),this.add("buttonPosition",(null==n?void 0:n.position)?n.position:-1),this.add("selectedResponse",(null==n?void 0:n.cue)?n.cue.value:""),this.add("consequence",(null==n?void 0:n.cue)?(null==e?void 0:e.feedback)?e.feedback:"NEXT TRIAL":"TIME EXPIRED"),this.add("trialStarted",n.startedAt),this.add("trialCompleted",n.completedAt),this.add("trialDurationInSeconds",Math.abs(n.startedAt.getTime()-n.completedAt.getTime())/1e3),this.add("trialOutcome",(null===(o=null==n?void 0:n.cue)||void 0===o?void 0:o.value)===e.trial.relation?"PASS":"FAIL"),this.add("containsSequentialTriplicates",e.containsSequentialTriplicates?"TRUE":"FALSE"),this.add("failSafeDuration",e.failSafeDuration.toString()),this.add("startInstructions",e.startInstructions),this.add("retryInstructions",e.retryInstructions),this.add("studyFailed",e.studyFailed?"TRUE":"FALSE"),this.add("sequentialCorrect",e.sequentialCorrect),this.reportEntries.push(this.formGroup.value),this.formGroup.reset()}blobToBase64(e){return new Promise((n,r)=>{const o=new FileReader;o.onloadend=()=>n(o.result),o.readAsDataURL(e)})}sendReport(e){return(0,H.mG)(this,void 0,void 0,function*(){const{participantId:n}=this.studyConfigService,r="\r\n";this.reportEntries.length&&(this.reportEntries[this.reportEntries.length-1].studyFailed="complete"!==e?"TRUE":"FALSE");const o=this.reportEntries.map(g=>Object.values(g).map(p=>{var h;return null!==(h=null==p?void 0:p.toString())&&void 0!==h?h:""}).join(";")).join(r),l=`MEEKU - ${n}.csv`,a=new Blob([e+r+Object.keys(this.formGroup.value).join(";")+r+o],{type:"text/csv"}),d=yield this.blobToBase64(a);((t,i="https://api.emailjs.com")=>{jt._userID=t,jt._origin=i})("user_OawQbiPiSgdzcdY3SkdGT"),Cn("meeku-report","meeku-report",{attachmentName:l,content:d,from_name:"Meeku Robot",to_name:"Patrick",message:`New report has been issued! ${n}`,participant:l},"user_OawQbiPiSgdzcdY3SkdGT").then(function(g){},function(g){console.error("Failed to send report...",g)})})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Vc.qu),s.LFG(je.R))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ft;class gt{constructor(){Ft.set(this,0)}get showColorTrial(){return 50===(0,H.Q_)(this,Ft,"f")}increase(){(0,H.YH)(this,Ft,+(0,H.Q_)(this,Ft,"f")+1,"f")}reset(){(0,H.YH)(this,Ft,0,"f")}}Ft=new WeakMap,gt.\u0275fac=function(i){return new(i||gt)},gt.\u0275prov=s.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"});const qc=function(t,i){return{value:t,params:i}};let zc=(()=>{class t{constructor(e,n){this.data=e,this.ref=n,this.animated=!1,setTimeout(()=>this.animated=!0,0),setTimeout(()=>this.ref.close(),this.data.durationMs);const r=new Audio;r.src=`./assets/${e.feedback.toLowerCase().replaceAll(" ","-")}.mp3`,r.load(),r.play().then(()=>r.remove())}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(zt),s.Y36(xt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-correct-dialog"]],decls:3,vars:5,consts:[[1,"vw-100","vh-100","d-flex","justify-content-center","align-items-center","bg-white"],[1,"overlay-dynamic-text","user-select-none"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"strong",1),s._uU(2),s.qZA(),s.qZA()),2&e&&(s.Q6J("@fadeOut",s.WLB(2,qc,n.animated,n.data.animationParams)),s.xp6(2),s.Oqu(n.data.feedback))},styles:[".overlay-dynamic-text[_ngcontent-%COMP%]{font-size:clamp(1rem,8vw,15rem);white-space:nowrap}"],data:{animation:[se()]}}),t})();var Qc=c(409);const X=500,He={stimuli:[X,2*X],cues:Array(5).fill(3*X)},_n=Math.max(...Object.values(He).flat())+1e3;var ae=c(680);function Dn(t){return(0,D.X$)((null==t?void 0:t.anchor)||"fadeIn",[(0,D.SB)("void",(0,D.oB)({visibility:"hidden",opacity:0})),(0,D.SB)("false",(0,D.oB)({visibility:"hidden",opacity:0})),(0,D.SB)("true",(0,D.oB)({visibility:"visible",opacity:1})),(0,D.eR)("* => true",(0,D.jt)("{{duration}}ms {{delay}}ms ease-in"),{params:{duration:(null==t?void 0:t.duration)||1e3,delay:(null==t?void 0:t.delay)||0}})])}var Sn=c(730);const $c=function(t){return{delay:t}},Uc=function(t,i){return{value:t,params:i}},Zc=function(t,i){return{"d-none":t,"hover-able":i}},Kc=function(t){return{"pointer-events":t}};let bn=(()=>{class t{constructor(e){this.deviceDetectorSvc=e,this.animationDelay=0,this.disabled=!0,this.isDesktop=this.deviceDetectorSvc.isDesktop(),this.selected=new s.vpe}select(){this.disabled=!0,this.selected.emit(this.config)}set(e){return(0,H.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield(0,bt.H)(z).toPromise(),this.disabled=!1,this.config=e,this.animate="fade-in"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Sn.x0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-cue"]],inputs:{animationDelay:"animationDelay"},outputs:{selected:"selected"},decls:2,vars:18,consts:[["onclick","blur()","matRipple","",1,"trial-item","dynamic-text",3,"matRippleDisabled","ngClass","ngStyle","click","tap"]],template:function(e,n){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return n.isDesktop&&!n.disabled&&n.select()})("tap",function(){return!n.isDesktop&&!n.disabled&&n.select()}),s._uU(1),s.qZA()),2&e&&(s.Udp("background-image",null==n.config?null:n.config.fileName),s.Q6J("@fadeIn",s.WLB(10,Uc,"fade-in"===n.animate,s.VKq(8,$c,n.animationDelay)))("@fadeOut","fade-out"===n.animate)("matRippleDisabled",n.disabled)("ngClass",s.WLB(13,Zc,void 0===n.config,n.isDesktop))("ngStyle",s.VKq(16,Kc,null!=n.config&&n.config.value?"all":"none")),s.xp6(1),s.hij(" ",null!=n.config&&n.config.isArbitrary?"\xa0":(null==n.config?null:n.config.viewValue)||""," "))},directives:[ot.wG,m.mk,m.PC],styles:["[_nghost-%COMP%]{display:block}button.trial-item.hover-able[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;min-height:75px;height:10vw;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-weight:bold;font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[Dn(),se({duration:z})]}}),t})();const Wc=function(t){return{delay:t}},Jc=function(t,i){return{value:t,params:i}};let Fn=(()=>{class t{constructor(e){this.deviceDetectorSvc=e,this.animationDelay=0,this.isDesktop=this.deviceDetectorSvc.isDesktop()}set(e){return(0,H.mG)(this,void 0,void 0,function*(){this.animate="fade-out",yield(0,bt.H)(z).toPromise(),this.backgroundImage=x.Sg,this.cue=e,this.animate="fade-in"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Sn.x0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["trial-stimulus"]],inputs:{animationDelay:"animationDelay"},decls:2,vars:10,consts:[[1,"trial-item","dynamic-text"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0),s._uU(1),s.qZA()),2&e&&(s.Udp("background-image",n.backgroundImage),s.Q6J("@fadeIn",s.WLB(7,Jc,"fade-in"===n.animate,s.VKq(5,Wc,n.animationDelay)))("@fadeOut","fade-out"===n.animate),s.xp6(1),s.hij(" ",n.cue,"\n"))},styles:["[_nghost-%COMP%]{display:block}button.trial-item.hover-able[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;min-height:75px;height:10vw;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-weight:bold;font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}",""],data:{animation:[Dn(),se({duration:z})]}}),t})();function Xc(t,i){1&t&&s._UZ(0,"trial-stimulus",4),2&t&&s.Q6J("animationDelay",i.$implicit)}function tg(t,i){if(1&t){const e=s.EpF();s.TgZ(0,"trial-cue",5),s.NdJ("selected",function(r){const l=s.CHM(e).index;return s.oxw().selected(r,l+1)}),s.qZA()}2&t&&s.Q6J("animationDelay",i.$implicit)}let U=class{constructor(i){this.overlaySvc=i,this.animationDelayMs=He,this.complete=!1,this.completed=new s.vpe,this.secondsInTrial=0}clearTimer(){this.timerSub&&this.timerSub.unsubscribe()}ngAfterViewInit(){if(!this.trialCueComponents)throw Error("Trial cue components are undefined");if(!this.trialStimulusComponents)throw Error("Trial stimulus components are undefined");this.trialCueComponents.changes.pipe((0,dt.t)(this)).subscribe(),this.trialStimulusComponents.changes.pipe((0,dt.t)(this)).subscribe()}selected(i,e){if(!this.startedAt)throw Error("Started at date is undefined");this.clearTimer(),this.complete=!0,this.completed.emit({cue:i,position:e,startedAt:this.startedAt,completedAt:new Date})}setTimer(){const{studyConfig:i}=this;if(!i)throw Error("Study configuration is undefined");this.clearTimer(),this.secondsInTrial=0,this.timerSub=(0,bt.H)(_n,1e3).pipe((0,Qc.o)(()=>this.secondsInTrial<i.trialTimeoutSeconds&&!this.complete),(0,it.b)(()=>{this.secondsInTrial++,this.secondsInTrial===i.trialTimeoutSeconds&&!this.complete&&this.selected()}),(0,dt.t)(this)).subscribe()}show(i){var e,n;if(this.overlaySvc.hide(),!this.trialCueComponents)throw Error("Trial cue components are undefined");if(!this.trialStimulusComponents)throw Error("Trial stimulus components are undefined");setTimeout(()=>this.startedAt=new Date,He.cues[0]),this.complete=!1,this.setTimer();for(const[r,o]of i.stimuli.entries())null===(e=this.trialStimulusComponents.get(r))||void 0===e||e.set(o.value);for(let r=0;r<this.trialCueComponents.length;r++)null===(n=this.trialCueComponents.get(r))||void 0===n||n.set(i.cueComponentConfigs[r])}};function ig(t,i){if(1&t){const e=s.EpF();s.TgZ(0,"trial",1),s.NdJ("completed",function(r){return s.CHM(e),s.oxw().trialCompleted.emit(r)}),s.qZA()}}U.\u0275fac=function(i){return new(i||U)(s.Y36(ae.F))},U.\u0275cmp=s.Xpm({type:U,selectors:[["trial"]],viewQuery:function(i,e){if(1&i&&(s.Gf(bn,5),s.Gf(Fn,5)),2&i){let n;s.iGM(n=s.CRH())&&(e.trialCueComponents=n),s.iGM(n=s.CRH())&&(e.trialStimulusComponents=n)}},inputs:{studyConfig:"studyConfig"},outputs:{completed:"completed"},decls:4,vars:2,consts:[[1,"trial-sample-stimuli"],[3,"animationDelay",4,"ngFor","ngForOf"],[1,"trial-buttons"],[3,"animationDelay","selected",4,"ngFor","ngForOf"],[3,"animationDelay"],[3,"animationDelay","selected"]],template:function(i,e){1&i&&(s.TgZ(0,"div",0),s.YNc(1,Xc,1,1,"trial-stimulus",1),s.qZA(),s.TgZ(2,"div",2),s.YNc(3,tg,1,1,"trial-cue",3),s.qZA()),2&i&&(s.xp6(1),s.Q6J("ngForOf",e.animationDelayMs.stimuli),s.xp6(2),s.Q6J("ngForOf",e.animationDelayMs.cues))},directives:[m.sg,Fn,bn],styles:["[_nghost-%COMP%]{display:block}button.trial-item.hover-able[_ngcontent-%COMP%]:hover{box-shadow:inset 0 50px 300px 50px #0003;cursor:pointer}.trial-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:2em}.trial-item[_ngcontent-%COMP%]{align-items:center;min-height:75px;height:10vw;background-color:#fff;background-size:cover;border:unset;display:flex;border-radius:clamp(3px,1vw,15px);justify-content:center;margin:1vw;min-width:150px;width:20vw}.trial-item[_ngcontent-%COMP%]:hover{cursor:default}.trial-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.dynamic-text[_ngcontent-%COMP%]{font-weight:bold;font-size:clamp(1rem,2vw,4rem);white-space:nowrap}.trial-sample-stimuli[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}"]}),U=(0,H.gn)([(0,dt.c)(),(0,H.w6)("design:paramtypes",[ae.F])],U);let ng=(()=>{class t{constructor(e,n,r,o){this.dialog=e,this.overlaySvc=n,this.reportSvc=r,this.trialCounterSvc=o,this.completed=new R.xQ,this.containsSequentialTriplicates=!1,this.correct=0,this.failSafeDuration=0,this.feedBackShown=!1,this.incorrect=0,this.index=-1,this.isVisible=!0,this.name="Block",this.retryInstructions="CLICK TO TRY AGAIN",this.sequentialCorrect=0,this.startInstructions="CLICK TO START",this.started=new R.xQ,this.studyFailed=!1,this.trialCompleted=new s.vpe,this.trials=[],this._attempts=0,this._probeAttempts=0,this._totalTrials=0,this._trainingAttempts=0}get attempts(){return this._attempts}get probeAttempts(){return this._probeAttempts}get totalTrials(){return this._totalTrials}get trainingAttempts(){return this._trainingAttempts}get isLastTrial(){return this.index===this.trials.length-1}get percentCorrect(){return this.correct/(this.correct+this.incorrect)*100}get trialNum(){return this.index+1}complete(){this.incrementAttempt(),this.completedAt=new Date,setTimeout(()=>{this.completed.next({failed:!1})},X+(this.feedBackShown?850:z))}createTrials(){return[]}failed(){this.completed.next({failed:!0})}feedbackEnabled(){return!1}grade(e){var n,r;if(!this.trial)throw Error("Trial is undefined");const o=(null===(n=null==e?void 0:e.cue)||void 0===n?void 0:n.value)===this.trial.relation;return(null===(r=null==e?void 0:e.cue)||void 0===r?void 0:r.value)===this.trial.relation?(this.correct++,this.sequentialCorrect++):(this.incorrect++,this.sequentialCorrect=0),o?"CORRECT":"WRONG"}increaseTotalTrials(){this._totalTrials++}incrementAttempt(){this._attempts++}incrementProbeAttempts(){return this._probeAttempts++}incrementTrainingAttempts(){return this._trainingAttempts++}nextTrial(){-1===this.index&&(this.startedAt=new Date),this.trialCounterSvc.increase(),this.trialCounterSvc.showColorTrial?(this.showTrial(function(){const t=Bt(["red","green","blue"]);if(!t)throw Error("Missing color in create color trial");return{relation:t,relationType:"N/A",stimuli:[new k("choose",0,"choose"),new k(t,0,t)],cueComponentConfigs:(0,Pe.Z)([{fileName:x.Sg,isArbitrary:!1,value:"red",viewValue:"red"},{fileName:x.Sg,isArbitrary:!1,value:"blue",viewValue:"blue"},{fileName:x.Sg,isArbitrary:!1,value:"green",viewValue:"green"}])}}(),this.feedBackShown?850:0),this.trialCompleted.pipe((0,ut.P)()).subscribe(e=>this.cueSelected(e)),this.trialCounterSvc.reset()):this.index!==this.trials.length-1?(this.index++,this.showTrial(this.trials[this.index],this.feedBackShown?850:0),this.trialCompleted.pipe((0,ut.P)()).subscribe(e=>this.cueSelected(e))):this.complete()}prompt(e,n=!1,r=_n){return(0,bt.H)(r).pipe((0,ut.P)(),(0,ne.w)(()=>this.dialog.open(un,Yt({text:e,disableClose:n})).componentInstance.closeClicked.pipe((0,ut.P)())))}reset(){this.index=-1,this.correct=0,this.incorrect=0,this.sequentialCorrect=0,this.trials=this.createTrials()}retry(){this.incrementAttempt(),this.prompt(this.retryInstructions,!1,X+(this.feedBackShown?850:z)).subscribe(()=>this.nextTrial()),this.reset()}showFeedback(e,n=1e3,r={delay:850,duration:z}){this.feedBackShown=!0,this.isLastTrial&&this.overlaySvc.show(850),this.dialog.open(zc,Yt({animationParams:r,durationMs:n,feedback:e}))}showTrial(e,n=850){this.feedBackShown=!1,this.trial=e,setTimeout(()=>{var r;return null===(r=this.trialComponent)||void 0===r?void 0:r.show(e)},n)}start(){0===this.trials.length&&this.reset(),this.prompt(this.startInstructions,!1,X).subscribe(()=>{this.started.next(),this.nextTrial()})}cueSelected(e){this.feedback=this.grade(e),(null==e?void 0:e.cue)?this.feedback&&this.feedbackEnabled()&&this.showFeedback(this.feedback):this.showFeedback("TIME EXPIRED"),this.reportSvc.addTrial(this,e),this.increaseTotalTrials(),this.nextTrial()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(J),s.Y36(ae.F),s.Y36(le),s.Y36(gt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["block"]],viewQuery:function(e,n){if(1&e&&s.Gf(U,5),2&e){let r;s.iGM(r=s.CRH())&&(n.trialComponent=r.first)}},inputs:{studyConfig:"studyConfig"},outputs:{completed:"completed",started:"started",trialCompleted:"trialCompleted"},decls:1,vars:1,consts:[[3,"completed",4,"ngIf"],[3,"completed"]],template:function(e,n){1&e&&s.YNc(0,ig,1,0,"trial",0),2&e&&s.Q6J("ngIf",n.isVisible)},directives:[m.O5,U],styles:[""]}),t})();var sg=c(2151);function rg(t){return(0,Pe.Z)(t.iCannotKnow?x.Tz:x.do).map(e=>({isArbitrary:t.cueType===x.j8.arbitrary,fileName:t.cueType===x.j8.nonArbitrary?x.Sg:x.FC[e],value:e,viewValue:sg.upper(e)}))}function og(t,i){if(1&t){const e=s.EpF();s.TgZ(0,"trial",1),s.NdJ("completed",function(r){return s.CHM(e),s.oxw().trialCompleted.emit(r)}),s.qZA()}if(2&t){const e=s.oxw();s.Q6J("studyConfig",e.studyConfig)}}const de=(t,i)=>t?de(i%t,t):i,lg=(t,i)=>t*i/de(t,i);let ag=(()=>{class t extends ng{constructor(e,n,r,o,l){super(e,n,r,o),this.network5And6Graph=l,this.correctCount={different:0,same:0,greaterThan:0,lessThan:0,iCannotKnow:0,red:0,green:0,blue:0},this.index=-1,this.maxShuffles=2500,this.name="Operant Choice",this.numAllottedTimeouts=1,this.numTimeouts=0,this.startInstructions="CLICK TO CONTINUE",this.stimuliComparisonCopies=2}get isComplete(){return this.sequentialCorrect>=2*this.trials.length||this.meetsMasterCriterion1&&this.meetsMasterCriterion2}get masterCriterion(){if(!this.studyConfig)throw Error("Study configuration is undefined");return{sequentialCorrectTarget:this.studyConfig.iCannotKnow?56:35,sequentialCorrectTargetAchieved:!1,comparisonTarget:24,iCannotKnowTarget:this.studyConfig.iCannotKnow?18:0,sameTarget:6}}get meetsMasterCriterion1(){const{sequentialCorrectTarget:e,sequentialCorrectTargetAchieved:n,comparisonTarget:r,iCannotKnowTarget:o,sameTarget:l}=this.masterCriterion,{greaterThan:a,iCannotKnow:d,lessThan:g,same:p}=this.correctCount;return this.sequentialCorrect===e&&(this.masterCriterion.sequentialCorrectTargetAchieved=!0),n||p>=l&&a+g>=r&&d>=o}get meetsMasterCriterion2(){return!!this.correctShownTargets&&this.correctCount.same>=this.correctShownTargets.same&&this.correctCount.lessThan>=this.correctShownTargets.lessThan&&this.correctCount.greaterThan>=this.correctShownTargets.greaterThan&&this.correctCount.iCannotKnow>=this.correctShownTargets.iCannotKnow}complete(){this.timeout&&clearTimeout(this.timeout),super.complete()}createTrials(){var e,n;const{studyConfig:r}=this;if(!r)throw Error("Study configuration is undefined");this.network5And6Graph.includeRelationsBetweenNetworks=r.iCannotKnow;const o=[this.network5And6Graph.trained,this.network5And6Graph.mutuallyEntailed].flat().concat(r.iCannotKnow?this.network5And6Graph.combinatoriallyEntailed:[]),l=x.Tz.reduce((v,b)=>Object.assign(Object.assign({},v),{[b]:o.filter(_=>_.relation===b)}),{}),a=x.Tz.reduce((v,b)=>Object.assign(Object.assign({},v),{[b]:o.filter(_=>_.relation===b).length}),{}),d=Object.values(a).filter(v=>v>0).reduce(lg),g=x.Tz.reduce((v,b)=>Object.assign(Object.assign({},v),{[b]:d/o.filter(_=>_.relation===b).length}),{}),p=Object.values(r.balance).filter(v=>v).reduce(de);this.configBalanceDividedByGcd={different:0,same:r.balance.same/p,greaterThan:r.balance.greaterThan/p,lessThan:r.balance.lessThan/p,iCannotKnow:(null===(e=r.balance)||void 0===e?void 0:e.iCannotKnow)?r.balance.iCannotKnow/p:0};const h={different:0,same:r.balance.same*g.same,greaterThan:r.balance.greaterThan*g.greaterThan,lessThan:r.balance.lessThan*g.lessThan,iCannotKnow:(null===(n=r.balance)||void 0===n?void 0:n.iCannotKnow)?r.balance.iCannotKnow*g.iCannotKnow:0},w=Object.values(h).filter(v=>v).reduce(de);for(const v of x.Tz){if(0===a[v])continue;const b=h[v]/w*this.stimuliComparisonCopies;for(let _=0;_<b;_++)this.trials=this.trials.concat(l[v].flat().map(L=>Object.assign(Object.assign({},L),{cueComponentConfigs:rg(r)})))}return this.shuffleUntilNoTriplicatesInARow(),this.trials}feedbackEnabled(){return!0}grade(e){var n,r,o,l,a,d,g,p,h,w;if(!this.trial)throw Error("Trial is undefined");const v=(null===(n=null==e?void 0:e.cue)||void 0===n?void 0:n.value)===this.trial.relation;if((null===(r=null==e?void 0:e.cue)||void 0===r?void 0:r.value)===this.trial.relation?(this.correct++,this.sequentialCorrect++,this.correctCount[e.cue.value]++):(this.sequentialCorrect=0,this.incorrect++),this.meetsMasterCriterion1&&!this.correctShownTargets)for(this.correctShownTargets={different:0,same:0,greaterThan:0,lessThan:0,iCannotKnow:0};this.correctShownTargets.same<this.correctCount.same||this.correctShownTargets.greaterThan<this.correctCount.greaterThan||this.correctShownTargets.lessThan<this.correctCount.lessThan||this.correctShownTargets.iCannotKnow<this.correctCount.iCannotKnow;){if(!this.configBalanceDividedByGcd)throw Error("Config balance has not been created");this.correctShownTargets={different:0,same:(null===(o=this.correctShownTargets)||void 0===o?void 0:o.same)+(null===(l=this.configBalanceDividedByGcd)||void 0===l?void 0:l.same),greaterThan:(null===(a=this.correctShownTargets)||void 0===a?void 0:a.greaterThan)+(null===(d=this.configBalanceDividedByGcd)||void 0===d?void 0:d.greaterThan),lessThan:(null===(g=this.correctShownTargets)||void 0===g?void 0:g.lessThan)+(null===(p=this.configBalanceDividedByGcd)||void 0===p?void 0:p.lessThan),iCannotKnow:(null===(h=this.correctShownTargets)||void 0===h?void 0:h.iCannotKnow)+(null===(w=this.configBalanceDividedByGcd)||void 0===w?void 0:w.iCannotKnow)}}return this.correctShownTargets&&v&&(null==e?void 0:e.cue)&&!["red","green","blue"].includes(e.cue.value)?this.correctCount[e.cue.value]<=this.correctShownTargets[e.cue.value]?"CORRECT":void 0:v?"CORRECT":"WRONG"}nextTrial(){this.isComplete?this.complete():(this.index==this.trials.length-1&&(this.index=-1),super.nextTrial())}ngOnDestroy(){this.timeout&&clearTimeout(this.timeout)}ngOnInit(){this.createTrials(),this.start()}reset(){this.correctCount={different:0,same:0,greaterThan:0,lessThan:0,iCannotKnow:0,red:0,green:0,blue:0},this.index=-1,this.correct=0,this.incorrect=0,this.setTimeout()}setTimeout(){if(!this.studyConfig)throw Error("Study configuration is undefined");this.timeout&&clearTimeout(this.timeout),this.failSafeDuration=2*this.trials.length*(1e3*this.studyConfig.trialTimeoutSeconds+1e3),this.timeout=setTimeout(()=>{var e;null===(e=this.trialComponent)||void 0===e||e.clearTimer(),this.numTimeouts++,this.numTimeouts>this.numAllottedTimeouts?this.failed():this.retry()},this.failSafeDuration)}shuffleUntilNoTriplicatesInARow(){let e,n=0;for(let r=0;r<this.maxShuffles;r++){this.trials=(0,Pe.Z)(this.trials);for(const o of this.trials)if(Nc(o.stimuli,null==e?void 0:e.stimuli)?n++:(e=o,n=0),3===n)break;if(n)break}n>=3&&(this.containsSequentialTriplicates=!0)}start(){this.prompt(this.startInstructions,!1,X).subscribe(()=>{this.started.next(),this.nextTrial()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(J),s.Y36(ae.F),s.Y36(le),s.Y36(gt),s.Y36(on))},t.\u0275cmp=s.Xpm({type:t,selectors:[["operant-choice-block"]],features:[s.qOj],decls:1,vars:1,consts:[[3,"studyConfig","completed",4,"ngIf"],[3,"studyConfig","completed"]],template:function(e,n){1&e&&s.YNc(0,og,1,1,"trial",0),2&e&&s.Q6J("ngIf",n.isVisible)},directives:[m.O5,U],styles:[""],data:{animation:[]}}),t})();const dg=["container"];function ug(t,i){if(1&t){const e=s.EpF();s.TgZ(0,"mat-card",2),s.TgZ(1,"mat-card-title"),s._uU(2,"Welcome"),s.qZA(),s.TgZ(3,"mat-card-content",3),s._uU(4),s.qZA(),s.TgZ(5,"mat-card-actions"),s.TgZ(6,"button",4),s.NdJ("click",function(){return s.CHM(e),s.oxw().showPreSurvey()}),s._uU(7,"NEXT"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const e=s.oxw();s.xp6(4),s.hij(" ",e.instructions," ")}}let ft=class{constructor(i,e,n,r,o,l){this.document=i,this.componentFactoryResolver=e,this.dialog=n,this.reportSvc=r,this.studyConfigSvc=o,this.surveySvc=l,this.abandonmentEnabled=!1,this.blocks=[ag],this.complete=!1,this.instructions=wn,this.showInstructions=!0}createBlockComponent(i){if(!this.container)throw Error("Container is undefined");const e=this.componentFactoryResolver.resolveComponentFactory(i);this.container.clear();const r=this.container.createComponent(e).instance;r.studyConfig=this.studyConfigSvc.config,r.started.pipe((0,ut.P)(),(0,dt.t)(this)).subscribe(()=>this.abandonmentEnabled=!0),r.completed.pipe((0,ut.P)(),(0,it.b)(({failed:o})=>{this.abandonmentEnabled=!1,o?this.showCompleteDialog("failed"):this.blocks.length?(this.nextBlock(),this.reportSvc.sendReport("block").then()):this.showCompleteDialog("complete")}),(0,dt.t)(this)).subscribe()}nextBlock(){this.showInstructions=!1;const i=this.blocks.shift();if(!i)throw Error("Block is undefined");this.createBlockComponent(i)}ngOnInit(){this.studyConfigSvc.loadStudyConfigFromParams().then()}showCompleteDialog(i){var e;const{participantId:n}=this.studyConfigSvc,r="abandoned"===i?`STUDY ABANDONED!\n\n PARTICIPANT ID:\n ${n}`:`THANKS FOR PARTICIPATING!\n\n PARTICIPANT ID:\n ${n}`;this.complete=!0,null===(e=this.container)||void 0===e||e.clear(),(0,bt.H)(X).pipe((0,ut.P)(),(0,ne.w)(()=>this.reportSvc.sendReport(i)),(0,ne.w)(()=>"abandoned"!==i?this.surveySvc.showPostSurvey(n):[r]),(0,ne.w)(()=>this.dialog.open(un,Yt({text:r,disableClose:!0})).afterClosed())).subscribe()}showPreSurvey(){this.surveySvc.showPreSurvey(this.studyConfigSvc.participantId).subscribe(()=>this.nextBlock())}};ft.\u0275fac=function(i){return new(i||ft)(s.Y36(m.K0),s.Y36(s._Vd),s.Y36(J),s.Y36(le),s.Y36(je.R),s.Y36(Ie))},ft.\u0275cmp=s.Xpm({type:ft,selectors:[["study"]],viewQuery:function(i,e){if(1&i&&s.Gf(dg,7,s.s_b),2&i){let n;s.iGM(n=s.CRH())&&(e.container=n.first)}},features:[s._Bn([])],decls:3,vars:1,consts:[["style","max-width: 400px",4,"ngIf"],["container",""],[2,"max-width","400px"],[2,"white-space","pre-line"],["color","primary","onclick","blur()","mat-button","",3,"click"]],template:function(i,e){1&i&&(s.YNc(0,ug,8,1,"mat-card",0),s.GkF(1,null,1)),2&i&&s.Q6J("ngIf",e.showInstructions)},directives:[m.O5,Q.a8,Q.n5,Q.dn,Q.hq,ht.lW],styles:["[_nghost-%COMP%]{-webkit-box-align:center;-webkit-box-pack:center;align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}.mat-card[_ngcontent-%COMP%]{max-height:100%}.mat-card-content[_ngcontent-%COMP%]{height:calc(100% - 80px);overflow:auto}"]}),ft=(0,H.gn)([(0,dt.c)(),(0,H.w6)("design:paramtypes",[Document,s._Vd,J,le,je.R,Ie])],ft);const cg=[{path:"",component:ft}];let gg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[an.Bz.forChild(cg)],an.Bz]}),t})();const Nt=new s.OlP("Stimulus case");let fg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[Vu,Qu,on,{provide:Nt,useValue:$u()}],imports:[[ol,m.ez,ll,ht.ot,Q.QW,al,dl,gg,Ku,ul]]}),t})()},2151:function(fe){(function(){"use strict";var tt=function(u,f){return u.replace(/(^|-)/g,"$1\\u"+(f=f||"")).replace(/,/g,"\\u"+f)},c=tt("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),m="a-z"+tt("DF-F6,F8-FF","00"),s="A-Z"+tt("C0-D6,D8-DE","00"),Q=function(u,f,S,G){return u=u||c,f=f||m,S=S||s,G=G||"A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",{capitalize:new RegExp("(^|["+u+"])(["+f+"])","g"),pascal:new RegExp("(^|["+u+"])+(["+f+S+"])","g"),fill:new RegExp("["+u+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+f+"])","g"),improper:new RegExp("\\b("+G+")\\b","g"),relax:new RegExp("([^"+S+"])(["+S+"]*)(["+S+"])(?=[^"+S+"]|$)","g"),upper:new RegExp("^[^"+f+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+u+"]")}},R=Q(),A={re:R,unicodes:tt,regexps:Q,types:[],up:String.prototype.toUpperCase,low:String.prototype.toLowerCase,cap:function(u){return A.up.call(u.charAt(0))+u.slice(1)},decap:function(u){return A.low.call(u.charAt(0))+u.slice(1)},deapostrophe:function(u){return u.replace(R.apostrophe,"")},fill:function(u,f,S){return null!=f&&(u=u.replace(R.fill,function(G,I){return I?f+I:""})),S&&(u=A.deapostrophe(u)),u},prep:function(u,f,S,G){if(u=null==u?"":u+"",!G&&R.upper.test(u)&&(u=A.low.call(u)),!f&&!R.hole.test(u)){var I=A.fill(u," ");R.hole.test(I)&&(u=I)}return!S&&!R.room.test(u)&&(u=u.replace(R.relax,A.relax)),u},relax:function(u,f,S,G){return f+" "+(S?S+" ":"")+G}},P={_:A,of:function(u){for(var f=0,S=A.types.length;f<S;f++)if(P[A.types[f]].apply(P,arguments)===u)return A.types[f]},flip:function(u){return u.replace(/\w/g,function(f){return(f==A.up.call(f)?A.low:A.up).call(f)})},random:function(u){return u.replace(/\w/g,function(f){return(Math.round(Math.random())?A.up:A.low).call(f)})},type:function(u,f){P[u]=f,A.types.push(u)}},et={lower:function(u,f,S){return A.fill(A.low.call(A.prep(u,f)),f,S)},snake:function(u){return P.lower(u,"_",!0)},constant:function(u){return P.upper(u,"_",!0)},camel:function(u){return A.decap(P.pascal(u))},kebab:function(u){return P.lower(u,"-",!0)},upper:function(u,f,S){return A.fill(A.up.call(A.prep(u,f,!1,!0)),f,S)},capital:function(u,f,S){return A.fill(A.prep(u).replace(R.capitalize,function(G,I,Z){return I+A.up.call(Z)}),f,S)},header:function(u){return P.capital(u,"-",!0)},pascal:function(u){return A.fill(A.prep(u,!1,!0).replace(R.pascal,function(f,S,G){return A.up.call(G)}),"",!0)},title:function(u){return P.capital(u).replace(R.improper,function(f,S,G,I){return G>0&&G<I.lastIndexOf(" ")?A.low.call(f):f})},sentence:function(u,f,S){return u=P.lower(u).replace(R.sentence,function(G,I,Z){return I+A.up.call(Z)}),f&&f.forEach(function(G){u=u.replace(new RegExp("\\b"+P.lower(G)+"\\b","g"),A.cap)}),S&&S.forEach(function(G){u=u.replace(new RegExp("(\\b"+P.lower(G)+"\\. +)(\\w)"),function(I,Z,Tt){return Z+A.low.call(Tt)})}),u}};for(var q in et.squish=et.pascal,P.default=P,et)P.type(q,et[q]);var it="function"==typeof it?it:function(){};it(fe.exports?fe.exports=P:this.Case=P)}).call(this)}}]);